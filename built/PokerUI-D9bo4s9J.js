import{u as e,b as t,j as s}from"./index-DlLMIGP-.js";import{c as a,Y as l,aB as n,at as r,aS as i,H as d,z as c,a6 as o,X as x,ak as m,p as h,aT as u,U as b,ag as g,a2 as p}from"./react-vendor-CFBbA8Qg.js";import"./BaseGame-Dl0OcroL.js";import{a as f,G as j,H as v,S as w,b as N,c as y}from"./types-l73mk7qx.js";import{u as k}from"./useGameState-Dq_coqf5.js";import"./socket-DRbsQkF5.js";import"./zustand-0-40VJZq.js";function T({game:b}){const g=b,[p]=k(g),{ti:w,ts:N}=e(),{confirm:y}=t(),[T,S]=a.useState(0),[F,L]=a.useState(!1),B=g.isHost,_=g.getMyPlayerIndex(),P=_>=0?p.players[_]:null,O=p.currentTurnIndex===_;a.useEffect(()=>{if(O){const e=p.minRaise,t=p.currentBet;S(t+e)}},[O,p.minRaise,p.currentBet]);const D=a.useMemo(()=>{const e=[],t=_>=0?_:0;for(let s=0;s<6;s++){const a=(t+s)%6;e.push({slot:p.players[a],actualIndex:a})}return e},[p.players,_]);return s.jsxs("div",{className:"flex flex-col w-full h-full min-h-[700px] bg-slate-900 text-white relative overflow-hidden select-none mb-16!",children:[s.jsxs("div",{className:"relative flex-1 w-full shrink-0",children:[s.jsx("div",{className:"absolute inset-4 @md:inset-10 bg-[#35654d] border-16 border-[#4a2c20] rounded-[100px] shadow-2xl opacity-90 mx-auto max-w-6xl"}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-0 w-full max-w-md",children:[s.jsxs("div",{className:"bg-black/40 px-6 py-2 rounded-full border border-yellow-500/30 backdrop-blur-sm flex items-center gap-2",children:[s.jsx(n,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("span",{className:"text-yellow-400 font-bold text-lg",children:[w({en:"Pot",vi:"Tổng"}),": ",p.pot]})]}),s.jsxs("div",{className:"flex gap-2 min-h-[80px]",children:[p.communityCards.map((e,t)=>s.jsx(I,{card:e,size:"lg",className:"animate-in fade-in slide-in-from-bottom-12 duration-700 ease-out"},t)),Array(5-p.communityCards.length).fill(null).map((e,t)=>s.jsx("div",{className:"w-14 h-20 @md:w-16 @md:h-24 border-2 border-white/10 rounded-lg bg-black/10"},`empty-${t}`))]}),"ended"===p.gamePhase&&s.jsxs("div",{className:"text-xl font-bold text-yellow-400 animate-bounce flex items-center gap-2 drop-shadow-md",children:[s.jsx(r,{className:"w-6 h-6"}),p.winnerIds.map(e=>p.players.find(t=>t.id===e)?.username).join(", ")," ",w({en:"Won!",vi:"Thắng!"}),p.winningHand&&s.jsxs("div",{className:"text-sm font-normal text-white ml-2",children:["(",w(f[p.winningHand.rank]||{en:p.winningHand.name,vi:p.winningHand.name}),")"]})]})]}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:D.map((e,t)=>s.jsx("div",{className:`absolute pointer-events-auto ${H(t)}`,children:s.jsx(C,{player:e.slot,isSelf:_===e.actualIndex,isActiveTurn:p.currentTurnIndex===e.actualIndex,isHost:B,gamePhase:p.gamePhase,winnerIds:p.winnerIds,bestHandName:(_===e.actualIndex||"ended"===p.gamePhase)&&e.slot.hand.length>0?w(f[g.evaluateHand(e.slot.hand,p.communityCards).rank]):void 0,bestHandRank:(_===e.actualIndex||"ended"===p.gamePhase)&&e.slot.hand.length>0?g.evaluateHand(e.slot.hand,p.communityCards).rank:void 0,onAddBot:()=>g.requestAddBot(e.actualIndex),onRemove:()=>g.requestRemovePlayer(e.actualIndex),onOpenRules:()=>L(!0)})},e.actualIndex))})]}),s.jsxs("div",{className:"w-full shrink-0 p-2 bg-slate-900/80 backdrop-blur-md border-t border-slate-700 flex flex-col items-center justify-between gap-4 z-20",children:[s.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4 text-xs text-slate-400",children:[s.jsxs("span",{children:[w({en:"Phase: ",vi:"Giai đoạn: "}),w(j[p.gamePhase])]}),s.jsxs("span",{children:[w({en:"Min Raise: ",vi:"Tố tối thiểu: "}),p.minRaise]}),p.lastAction&&s.jsxs("span",{className:"text-white",children:[w({en:"Last: ",vi:"Vừa xong: "}),p.players.find(e=>e.id===p.lastAction?.playerId)?.username," ",p.lastAction.action," ",p.lastAction.amount]})]}),"waiting"!==p.gamePhase&&"ended"!==p.gamePhase&&(O&&P?s.jsxs("div",{className:"flex flex-wrap @md:flex-nowrap items-center justify-center gap-2 w-full @md:w-auto",children:[s.jsx("button",{onClick:()=>{g.requestFold()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-red-900/80 hover:bg-red-800 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:s.jsx("span",{className:"text-xs @md:text-sm",children:w({en:"FOLD",vi:"BỎ BÀI"})})}),p.currentBet>P.currentBet?s.jsxs("button",{onClick:()=>{g.requestCall()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-blue-900/80 hover:bg-blue-800 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:[s.jsx("span",{className:"text-xs @md:text-sm",children:w({en:"CALL",vi:"THEO"})}),s.jsx("span",{className:"text-[10px] @md:text-xs",children:p.currentBet-P.currentBet})]}):s.jsx("button",{onClick:()=>{g.requestCheck()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:s.jsx("span",{className:"text-xs @md:text-sm",children:w({en:"CHECK",vi:"XEM"})})}),s.jsxs("div",{className:"order-first @md:order-0 w-full @md:w-auto flex items-center justify-center gap-2 bg-black/40 p-1.5 rounded-lg border border-slate-700 mb-2 @md:mb-0",children:[s.jsx("button",{onClick:()=>S(Math.max(p.currentBet+p.minRaise,T-p.minRaise)),className:"p-2 hover:bg-white/10 rounded",children:s.jsx(i,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex flex-col items-center w-20",children:[s.jsx("span",{className:"text-[10px] text-slate-400",children:w({en:"RAISE TO",vi:"TỐ LÊN"})}),s.jsx("input",{type:"number",value:T,onChange:e=>S(Number(e.target.value)),className:"w-full bg-transparent text-center font-bold outline-none text-sm"})]}),s.jsx("button",{onClick:()=>S(T+p.minRaise),className:"p-2 hover:bg-white/10 rounded",children:s.jsx(d,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{g.requestRaise(T)},disabled:T>P.chips+P.currentBet,className:"ml-2 px-3 py-1.5 bg-green-700 hover:bg-green-600 rounded text-xs font-bold disabled:opacity-50 h-full",children:w({en:"RAISE",vi:"TỐ"})})]}),s.jsx("button",{onClick:()=>{g.requestAllIn()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-orange-700 hover:bg-orange-600 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:s.jsx("span",{className:"text-xs @md:text-sm",children:w({en:"ALL IN",vi:"TẤT TAY"})})})]}):s.jsx("div",{className:"flex items-center justify-center gap-2 p-4 bg-slate-800/50 rounded-lg border border-slate-700 w-full @md:w-auto min-w-[200px]",children:s.jsx("div",{className:"flex items-center gap-2 text-slate-400 animate-pulse",children:s.jsx("span",{className:"text-sm font-bold",children:w({en:`Waiting for ${p.players[p.currentTurnIndex]?.username}'s turn...`,vi:`Đang chờ lượt của ${p.players[p.currentTurnIndex]?.username}...`})})})})),"waiting"===p.gamePhase&&B&&s.jsx("div",{className:"w-full flex justify-center",children:p.players.filter(e=>null!==e.id).length>=2?s.jsx("button",{onClick:()=>g.requestStartGame(),className:"px-8 py-3 bg-green-600 hover:bg-green-500 rounded-xl font-bold text-lg shadow-lg shadow-green-900/20 w-full @md:w-auto",children:w({en:"Start Game",vi:"Bắt đầu"})}):s.jsx("div",{className:"px-8 py-3 bg-slate-700/50 rounded-xl font-bold text-lg text-slate-400 border border-slate-600 w-full @md:w-auto text-center cursor-not-allowed",children:w({en:"Waiting for players (min 2)...",vi:"Đang chờ người chơi (tối thiểu 2)..."})})})]}),"ended"===p.gamePhase&&B&&s.jsxs("div",{className:"w-full flex justify-center items-center gap-4 mt-6 z-50 animate-in slide-in-from-bottom-4 duration-500",children:[s.jsxs("button",{onClick:()=>g.requestStartGame(),className:"px-6 py-3 bg-green-600 hover:bg-green-500 rounded-xl font-bold text-lg shadow-lg shadow-green-900/40 flex items-center gap-2 text-white transition-all transform hover:scale-105",children:[s.jsx(c,{className:"w-5 h-5"}),w({en:"Next Hand",vi:"Ván tiếp theo"})]}),s.jsxs("button",{onClick:async()=>{await y(N({en:"Are you sure you want to reset all chips and start over?",vi:"Bạn có chắc chắn muốn reset tiền và chơi lại từ đầu không?"}),N({en:"Reset Game",vi:"Chơi lại từ đầu"}))&&g.requestResetGame()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl font-bold text-lg shadow-lg border border-slate-600 flex items-center gap-2 text-slate-300 hover:text-white transition-all",children:[s.jsx(o,{className:"w-5 h-5"}),w({en:"Reset Game",vi:"Chơi lại từ đầu"})]})]}),"waiting"!==p.gamePhase&&"ended"!==p.gamePhase&&B&&s.jsx("div",{className:"flex items-center justify-center mt-6",children:s.jsxs("button",{onClick:async()=>{await y(N({en:"Are you sure you want to end the game?",vi:"Bạn có chắc chắn muốn kết thúc game không?"}),N({en:"End Game",vi:"Kết thúc"}))&&g.requestResetGame()},className:"flex items-center gap-2 px-3 py-2 bg-red-900/20 hover:bg-red-900/50 rounded-lg text-red-500 hover:text-red-300 border border-red-900/30 text-xs font-bold transition-colors",children:[s.jsx(x,{className:"w-5 h-5"}),w({en:"End Game",vi:"Kết thúc"})]})}),s.jsx("button",{onClick:()=>L(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:N({en:"Rules",vi:"Luật chơi"}),children:s.jsx(m,{size:24})}),F&&l.createPortal(s.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center bg-black/80 p-4 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full max-h-[85vh] flex flex-col shadow-2xl relative overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800 border-b border-slate-700 shrink-0",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(m,{className:"w-6 h-6 text-yellow-500"}),w({en:"How to Play Poker",vi:"Luật Chơi Poker"})]}),s.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:s.jsx(x,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-8 text-slate-300",children:[s.jsx("section",{children:s.jsx("p",{className:"text-base text-slate-100 italic border-l-4 border-yellow-500 pl-4 py-1 bg-yellow-500/10 rounded-r",children:w({en:"Create the best 5-card hand using your 2 hole cards and 5 community cards.",vi:"Tạo ra tay bài 5 lá mạnh nhất từ 2 lá bài tẩy của bạn và 5 lá bài chung."})})}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[s.jsx(h,{className:"w-5 h-5"}),w({en:"Chips & Blinds",vi:"Tiền & Mù"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-1",children:[s.jsx("span",{children:w({en:"Starting Chips",vi:"Tiền khởi điểm"})}),s.jsx("span",{className:"font-bold text-yellow-500",children:"1000"})]}),s.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-1",children:[s.jsx("span",{children:w({en:"Blinds (Small/Big)",vi:"Tiền mù (Nhỏ/Lớn)"})}),s.jsx("span",{className:"font-bold text-white",children:"10 / 20"})]}),s.jsx("li",{className:"text-xs text-slate-400 italic mt-2",children:w({en:"Auto-Rebuy: Chips reset to 1000 if you go bankrupt (Next Hand).",vi:"Tự động bơm tiền: Reset về 1000 nếu bạn cháy túi (Ván sau)."})})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5"}),w({en:"Dealer Position",vi:"Vị trí Dealer"})]}),s.jsx("p",{className:"text-sm text-slate-300 mb-2",children:w({en:"The Dealer button (D) moves clockwise each hand. It determines who posts Blinds and acts last after the flop.",vi:"Nút Dealer (D) di chuyển theo chiều kim đồng hồ mỗi ván. Nó xác định ai đặt tiền mù và ai hành động cuối cùng sau khi chia bài chung."})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[s.jsx(r,{className:"w-5 h-5"}),w({en:"Hand Rankings",vi:"Thứ tự tay bài"}),s.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-800 px-2 py-0.5 rounded ml-auto",children:w({en:"Strongest to Weakest",vi:"Từ mạnh đến yếu"})})]}),s.jsx("div",{className:"space-y-2 text-sm",children:[{id:v.ROYAL_FLUSH,desc:{en:"A, K, Q, J, 10 same suit",vi:"Sảnh rồng đồng chất (A-10)"}},{id:v.STRAIGHT_FLUSH,desc:{en:"5 consecutive cards same suit",vi:"5 lá liên tiếp đồng chất"}},{id:v.FOUR_OF_A_KIND,desc:{en:"4 cards of same rank",vi:"4 lá giống nhau"}},{id:v.FULL_HOUSE,desc:{en:"3 matching + 2 matching",vi:"1 bộ ba + 1 bộ đôi"}},{id:v.FLUSH,desc:{en:"5 cards same suit",vi:"5 lá cùng chất"}},{id:v.STRAIGHT,desc:{en:"5 consecutive cards",vi:"5 lá liên tiếp"}},{id:v.THREE_OF_A_KIND,desc:{en:"3 cards of same rank",vi:"3 lá giống nhau"}},{id:v.TWO_PAIR,desc:{en:"2 different pairs",vi:"2 đôi khác nhau"}},{id:v.PAIR,desc:{en:"2 cards of same rank",vi:"2 lá giống nhau"}},{id:v.HIGH_CARD,desc:{en:"Highest card plays",vi:"Lá bài cao nhất"}}].map((e,t)=>s.jsxs("div",{className:"flex justify-between items-center p-2 rounded "+(t%2==0?"bg-slate-800/50":""),children:[s.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded-full border ${R(e.id)}`,children:[s.jsx(r,{className:`w-3 h-3 ${A(e.id)}`}),s.jsx("span",{className:"font-bold",children:w(f[e.id])})]}),s.jsx("span",{className:"text-slate-400 text-sm",children:w(e.desc)})]},t))})]}),s.jsxs("div",{className:"grid grid-cols-1 @md:grid-cols-2 gap-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[s.jsx(o,{className:"w-5 h-5"}),w({en:"Game Rounds",vi:"Vòng cược"})]}),s.jsx("ol",{className:"relative border-l border-slate-700 ml-3 space-y-0",children:[{name:"Pre-Flop",vi:"Pre-Flop",desc:{en:"2 Hole Cards Deal",vi:"Chia 2 lá tẩy"}},{name:"Flop",vi:"Flop",desc:{en:"3 Community Cards",vi:"3 lá chung đầu"}},{name:"Turn",vi:"Turn",desc:{en:"4th Community Card",vi:"Lá chung thứ 4"}},{name:"River",vi:"River",desc:{en:"Last Community Card",vi:"Lá chung cuối"}},{name:"Showdown",vi:"Lật bài",desc:{en:"Best hand wins pot",vi:"So bài & Trả thưởng"}}].map((e,t)=>s.jsxs("li",{className:"mb-4 last:mb-0 ml-4",children:[s.jsx("div",{className:"absolute w-3 h-3 bg-slate-600 rounded-full -left-[21px] mt-1.5 border border-slate-900"}),s.jsx("h4",{className:"font-bold text-white",children:w({en:e.name,vi:e.vi})}),s.jsx("p",{className:"text-sm text-slate-400",children:w(e.desc)})]},t))})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[s.jsx(n,{className:"w-5 h-5"}),w({en:"Actions",vi:"Hành động"})]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-slate-500",children:[s.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[s.jsx("strong",{className:"text-white",children:w({en:"Check / Fold",vi:"Xem / Bỏ"})}),s.jsx("span",{className:"text-xs text-slate-500 uppercase",children:w({en:"Weak",vi:"Yếu"})})]}),s.jsx("p",{className:"text-sm text-slate-400",children:w({en:"Skip turn if no bet / Discard hand.",vi:"Xem (không cược) / Bỏ bài."})})]}),s.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-blue-500",children:[s.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[s.jsx("strong",{className:"text-blue-200",children:w({en:"Call",vi:"Theo"})}),s.jsx("span",{className:"text-xs text-blue-500/50 uppercase",children:w({en:"Passive",vi:"Thụ động"})})]}),s.jsx("p",{className:"text-sm text-slate-400",children:w({en:"Match current highest bet.",vi:"Theo cược bằng người trước."})})]}),s.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-green-500",children:[s.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[s.jsx("strong",{className:"text-green-200",children:w({en:"Raise / All-in",vi:"Tố / Tất tay"})}),s.jsx("span",{className:"text-xs text-green-500/50 uppercase",children:w({en:"Aggressive",vi:"Mạnh"})})]}),s.jsx("p",{className:"text-sm text-slate-400",children:w({en:"Increase bet / Bet everything.",vi:"Tố thêm tiền / Cược tất tay."})})]})]})]})]})]})]})}),document.body)]})}const H=e=>{const t="@md:bottom-[5%] @md:left-1/2 @md:-translate-x-1/2 @md:top-auto @md:right-auto",s="@md:bottom-[20%] @md:left-[5%] @md:top-auto @md:right-auto",a="@md:top-[20%] @md:left-[5%] @md:bottom-auto @md:right-auto",l="@md:top-[5%] @md:left-1/2 @md:-translate-x-1/2 @md:bottom-auto @md:right-auto",n="@md:top-[20%] @md:right-[5%] @md:bottom-auto @md:left-auto",r="@md:bottom-[20%] @md:right-[5%] @md:top-auto @md:left-auto";switch(e){case 0:return`bottom-6 left-1/2 -translate-x-1/2 ${t}`;case 1:return`bottom-10 left-1 ${s}`;case 5:return`bottom-10 right-1 ${r}`;case 3:return`top-6 left-1/2 -translate-x-1/2 ${l}`;case 2:return`top-10 left-1 ${a}`;case 4:return`top-10 right-1 ${n}`;default:return""}},R=e=>{if(void 0===e)return"bg-slate-900/90 border-slate-500/50 text-slate-200";switch(e){case v.ROYAL_FLUSH:case v.STRAIGHT_FLUSH:return"bg-purple-900/90 border-purple-500/50 text-purple-200 shadow-purple-900/50";case v.FOUR_OF_A_KIND:case v.FULL_HOUSE:return"bg-red-900/90 border-red-500/50 text-red-100 shadow-red-900/50";case v.FLUSH:case v.STRAIGHT:return"bg-blue-900/90 border-blue-500/50 text-blue-100 shadow-blue-900/50";case v.THREE_OF_A_KIND:case v.TWO_PAIR:return"bg-green-900/90 border-green-500/50 text-green-100 shadow-green-900/50";default:return"bg-slate-800/90 border-slate-500/50 text-slate-300 shadow-slate-900/50"}},A=e=>{if(void 0===e)return"text-slate-400";switch(e){case v.ROYAL_FLUSH:case v.STRAIGHT_FLUSH:return"text-purple-400";case v.FOUR_OF_A_KIND:case v.FULL_HOUSE:return"text-red-400";case v.FLUSH:case v.STRAIGHT:return"text-blue-400";case v.THREE_OF_A_KIND:case v.TWO_PAIR:return"text-green-400";default:return"text-slate-400"}};function C({player:t,isSelf:a,isActiveTurn:l,isHost:i,gamePhase:d,winnerIds:c,onAddBot:o,onRemove:m,bestHandName:h,bestHandRank:u,onOpenRules:f}){const{ti:j}=e(),v=null===t.id,w=t.id&&c.includes(t.id);return v?s.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50 hover:opacity-100 transition-opacity",children:[s.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-slate-500 flex items-center justify-center bg-black/20 text-slate-400",children:s.jsx(b,{className:"w-8 h-8"})}),"waiting"===d&&s.jsx("div",{className:"flex flex-col gap-1",children:i&&s.jsxs("button",{onClick:o,className:"px-3 py-1 bg-slate-700 rounded text-xs flex items-center gap-1",children:[s.jsx(g,{className:"w-3 h-3"})," Bot"]})})]}):s.jsxs("div",{className:`\n            relative flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-300\n            ${l?"bg-yellow-500/20 ring-2 ring-yellow-400 scale-105":"bg-slate-900/60 ring-1 ring-slate-700"}\n            ${t.hasFolded?"opacity-50 grayscale":""}\n            ${w?"animate-bounce":""}\n            w-[90px] @md:w-[140px]\n        `,children:[t.isDealer&&s.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-white rounded-full flex items-center justify-center text-black font-bold text-xs border-2 border-slate-300 shadow-lg z-20",children:"D"}),s.jsxs("div",{className:"flex items-center gap-2 mb-1 w-full justify-center",children:[t.isHost&&s.jsx(p,{className:"w-3 h-3 text-yellow-500"}),t.isBot&&s.jsx(g,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-xs font-bold truncate max-w-[80px]",children:t.username})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded-full text-green-400 text-xs font-mono w-full justify-center",children:[s.jsx(n,{className:"w-3 h-3"})," ",t.chips]}),s.jsxs("div",{className:"flex justify-center -space-x-4 min-h-[50px] mt-1 relative",children:[t.hand.length>0?s.jsx(s.Fragment,{children:a||"showdown"===d||"ended"===d?t.hand.map((e,t)=>s.jsx("div",{className:`transform ${0===t?"-rotate-6":"rotate-6"} origin-bottom`,children:s.jsx(I,{card:e,size:"md",className:"animate-in fade-in slide-in-from-bottom-8 duration-500 ease-out"})},t)):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-10 h-14 bg-blue-900 rounded border-2 border-white/20 transform -rotate-6 shadow-lg bg-[url('/card-back.png')]"}),s.jsx("div",{className:"w-10 h-14 bg-blue-900 rounded border-2 border-white/20 transform rotate-6 shadow-lg bg-[url('/card-back.png')]"})]})}):s.jsx("div",{className:"h-[50px]"}),t.hasFolded&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded text-xs font-bold text-red-400",children:j({en:"FOLDED",vi:"ĐÃ BỎ"})})]}),t.currentBet>0&&s.jsxs("div",{className:"absolute -bottom-3 bg-yellow-900/80 px-2 py-1 rounded text-yellow-300 text-xs font-bold border border-yellow-500/30 flex items-center gap-1",children:[s.jsx(n,{className:"w-3 h-3"})," ",t.currentBet]}),(a||"ended"===d)&&!t.hasFolded&&h&&s.jsxs("div",{onClick:f,className:`absolute -top-6 whitespace-nowrap border px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg animate-in fade-in slide-in-from-bottom-2 z-40 flex items-center gap-1 transition-all duration-300 cursor-pointer hover:scale-110 ${R(u)}`,children:[s.jsx(r,{className:`w-3 h-3 ${A(u)}`}),h]})]}),i&&"waiting"===d&&(t.isBot||t.isGuest)&&s.jsx("button",{onClick:m,className:"absolute -top-2 -left-2 w-5 h-5 bg-red-600 rounded-full flex items-center justify-center text-white hover:bg-red-500 z-30",children:s.jsx(x,{className:"w-3 h-3"})})]})}function I({card:e,size:t="md",className:a="",compact:l=!0}){const n=e.suit===w.HEART||e.suit===w.DIAMOND;return s.jsxs("div",{className:`${{sm:"w-8 h-12 @md:w-10 @md:h-14 text-[10px] @md:text-xs",md:"w-10 h-14 @md:w-14 @md:h-20 text-xs @md:text-sm",lg:"w-12 h-16 @md:w-16 @md:h-24 text-sm @md:text-lg"}[t]} bg-white rounded-md shadow-lg border border-slate-300 flex flex-col items-center justify-between p-1 select-none ${a}`,children:[s.jsx("div",{className:`self-start font-bold ${n?"text-red-600":"text-slate-900"} leading-none`,children:N[e.rank]}),s.jsx("div",{className:(n?"text-red-500":"text-slate-800")+" text-xl @md:text-2xl",children:y[e.suit]}),s.jsx("div",{className:`self-end font-bold ${n?"text-red-600":"text-slate-900"} leading-none rotate-180`,children:l?"":N[e.rank]})]})}export{T as default};
