import"./socket-DRbsQkF5.js";class t{roomId;socket;isHost;userId;constructor(t,s,o,e){this.roomId=t,this.socket=s,this.isHost=o,this.userId=e,this.isHost||this.socket.on("game:state",this.handleStateSync.bind(this)),this.socket.on("game:action",this.handleAction.bind(this))}get isHostUser(){return this.isHost}get getRoomId(){return this.roomId}broadcastState(){if(this.isHost){const t=this.getState();this.socket.emit("game:state",{roomId:this.roomId,state:t})}}sendAction(t){this.socket.emit("game:action",{roomId:this.roomId,action:t})}handleStateSync(t){this.isHost||this.setState(t.state)}broadcastGameEnd(t){this.socket.emit("game:end",{roomId:this.roomId,result:t})}destroy(){this.socket.off("game:state"),this.socket.off("game:action")}}export{t as B};
