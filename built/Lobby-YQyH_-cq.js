import{u as e,a as s,g as t,j as r}from"./index-CknsrN0a.js";import{b as a,G as l,P as i,U as o,u as n,T as d}from"./react-vendor-8v1eX67m.js";import{u as c,g as m}from"./registry-DE2lkhG8.js";import"./socket-DRbsQkF5.js";import"./zustand-BrUGvFZl.js";import"./chess-DTd62Tay.js";function x(){const{username:n}=e(),{isConnected:d}=s(),{publicRooms:x,setPublicRooms:g}=c(),[b,y]=a.useState(null),[f,j]=a.useState(!1);a.useEffect(()=>{const e=t();return e.emit("room:list",e=>{g(e)}),e.on("room:list:update",e=>{g(e)}),()=>{e.off("room:list:update")}},[g]);return r.jsxs("div",{className:"min-h-screen bg-background-primary",children:[r.jsx("nav",{className:"fixed top-4 left-4 right-4 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto glass-card rounded-2xl px-4 md:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(l,{className:"w-8 h-8 text-primary"}),r.jsx("span",{className:"text-xl font-display text-text-primary",children:"GameHub"})]}),r.jsxs("div",{onClick:()=>j(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer "+(d?"":"opacity-50"),title:d?"Connected":"Disconnected",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+(d?"bg-green-500 animate-pulse":"bg-red-500")}),r.jsx("span",{className:"text-sm font-medium text-text-primary",children:n})]})]})})}),r.jsx("main",{className:"pt-32 px-2 md:px-4 pb-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-5xl font-display text-text-primary mb-4 neon-glow",children:"Play Together, Anywhere"}),r.jsx("p",{className:"text-xl text-text-secondary mb-8",children:"Join multiplayer games with friends in real-time"}),r.jsx("div",{className:"flex items-center justify-center gap-4",children:r.jsxs("button",{onClick:()=>y(""),className:"px-8 py-3 bg-primary hover:bg-primary-light text-white font-display rounded-xl shadow-lg shadow-primary/50 hover:shadow-xl hover:shadow-primary/70 transition-all duration-200 cursor-pointer flex items-center gap-2",children:[r.jsx(i,{className:"w-5 h-5"}),"Create Room"]})})]}),r.jsxs("section",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(l,{className:"w-6 h-6 text-primary"}),r.jsx("h3",{className:"text-2xl font-display text-text-primary",children:"Available Games"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m().map(e=>{const s=e.icon;return r.jsxs("div",{className:"glass-card rounded-2xl p-6 hover:border-primary/30 transition-all duration-200 "+(e.isAvailable?"":"opacity-50"),children:[r.jsx("div",{className:"mb-4 flex items-center justify-center",children:r.jsx(s,{className:"w-12 h-12 text-primary"})}),r.jsx("h4",{className:"font-display text-xl text-text-primary mb-2",children:e.name}),r.jsx("p",{className:"text-sm text-text-secondary mb-4",children:e.description}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted mb-4",children:[r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{children:e.minPlayers===e.maxPlayers?`${e.minPlayers} Players`:`${e.minPlayers}-${e.maxPlayers} Players`})]}),e.isAvailable?r.jsx("button",{onClick:()=>{return s=e.id,void y(s);var s},className:"w-full px-4 py-2 bg-primary hover:bg-primary-light text-white font-semibold rounded-lg transition-colors cursor-pointer",children:"Create Room"}):r.jsx("button",{disabled:!0,className:"w-full px-4 py-2 bg-white/5 text-text-muted font-semibold rounded-lg cursor-not-allowed",children:"Coming Soon"})]},e.id)})})]}),r.jsxs("section",{id:"public-rooms-section",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(o,{className:"w-6 h-6 text-primary"}),r.jsx("h3",{className:"text-2xl font-display text-text-primary",children:"Public Rooms"})]}),0===x.length?r.jsx("div",{className:"glass-card rounded-2xl p-12 text-center",children:r.jsx("p",{className:"text-text-muted",children:"No public rooms available. Create one to get started!"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>r.jsx(p,{room:e},e.id))})]})]})}),null!=b&&r.jsx(u,{gameId:b,onClose:()=>y(null)}),f&&r.jsx(h,{onClose:()=>j(!1)})]})}function p({room:s}){const a=n(),{username:i}=e(),{setCurrentRoom:x}=c(),p=s.players.find(e=>e.isHost),u=p?.username||"Unknown",h=p?.username===i,g=m().find(e=>e.id===s.gameType),b=g?.icon||l;return r.jsxs("div",{className:"glass-card rounded-xl p-4 hover:border-primary/30 transition-all duration-200 cursor-pointer group flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center shrink-0",children:r.jsx(b,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-display text-lg text-text-primary truncate transition-colors",children:s.name}),s.password&&r.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-yellow-500/20 text-yellow-500 border border-yellow-500/30 uppercase tracking-wider",children:"Private"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-text-secondary",children:[r.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/50"}),r.jsx("span",{className:"capitalize truncate max-w-[100px]",children:g?.name||s.gameType})]}),r.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[r.jsx(o,{className:"w-3.5 h-3.5 text-text-muted"}),r.jsxs("span",{className:"truncate max-w-[120px]",children:["Host: ",u]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:"text-text-muted",children:"â€¢"}),r.jsxs("span",{children:[s.players.length,"/",s.maxPlayers]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:mt-0 w-full sm:w-auto",children:[h&&r.jsx("button",{onClick:e=>{if(e.stopPropagation(),!confirm("Are you sure you want to close this room?"))return;t().emit("room:leave",{roomId:s.id})},className:"px-3 py-2.5 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded-lg border border-red-500/20 transition-all duration-200",title:"Close Room",children:r.jsx(d,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>{const e=t();if(!e)return alert("Socket not connected");e.emit("room:join",{roomId:s.id},e=>{e.success&&e.room?(x(e.room),a(`/room/${s.id}`)):alert(e.error||"Failed to join room")})},className:"flex-1 sm:flex-initial px-6 py-2.5 bg-primary hover:bg-primary-light text-white font-semibold rounded-lg shadow-lg shadow-primary/30 transition-all duration-200",children:"Join"})]})]})}function u({onClose:e,gameId:s}){const[l,i]=a.useState(""),[o,d]=a.useState(s),[x,p]=a.useState(!0),[u,h]=a.useState(""),g=n(),{setCurrentRoom:b}=c();return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:r.jsxs("div",{className:"bg-background-secondary border border-white/10 rounded-2xl p-8 max-w-md w-full shadow-2xl mx-4",children:[r.jsx("h2",{className:"font-display text-2xl text-text-primary mb-6",children:"Create Room"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Room Name"}),r.jsx("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Enter room name",className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Game Type"}),r.jsx("select",{value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer",children:m().map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x,onChange:e=>p(e.target.checked),className:"w-4 h-4 text-primary bg-white/5 border-white/10 rounded focus:ring-2 focus:ring-primary cursor-pointer"}),r.jsx("span",{className:"text-sm text-text-secondary",children:"Public Room"})]})}),!x&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Password"}),r.jsx("input",{type:"password",value:u,onChange:e=>h(e.target.value),placeholder:"Enter password",className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:e,className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors cursor-pointer",children:"Cancel"}),r.jsx("button",{onClick:()=>{if(!l.trim())return void alert("Please enter a room name");const e=t();if(!e)return alert("Socket not connected");e.emit("room:create",{name:l,gameType:o,isPublic:x,password:x?void 0:u,maxPlayers:4},e=>{e.success&&e.room?(b(e.room),g(`/room/${e.room.id}`)):alert(e.error||"Failed to create room")})},className:"flex-1 px-4 py-2.5 bg-primary hover:bg-primary-light text-white rounded-lg shadow-lg shadow-primary/30 transition-all cursor-pointer",children:"Create"})]})]})})}function h({onClose:s}){const{generateNewId:t}=e();return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:r.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-8 max-w-md w-full shadow-2xl animate-slideUp mx-4",children:[r.jsx("h2",{className:"font-display text-2xl text-text-primary mb-4",children:"New Identity"}),r.jsx("p",{className:"text-text-secondary mb-8",children:"Are you sure you want to generate a new random identity? The page will reload."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:s,className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors cursor-pointer font-medium",children:"Cancel"}),r.jsx("button",{onClick:()=>{t(),window.location.reload()},className:"flex-1 px-4 py-2.5 bg-primary hover:bg-primary-light text-white rounded-lg shadow-lg shadow-primary/30 transition-all cursor-pointer font-medium",children:"Confirm"})]})]})})}export{x as default};
