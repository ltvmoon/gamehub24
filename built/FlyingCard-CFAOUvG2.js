import{j as t}from"./index--Q6lzWr_.js";import{b as e}from"./react-vendor-RjW9glnC.js";function n({children:n,containerRef:r,sourceRect:a,targetRect:o,duration:i=500,onComplete:s,className:c="",isOpen:u=!0}){const[l,p]=e.useState("idle"),[f,d]=e.useState(null),y=e.useRef([]);if(e.useEffect(()=>()=>{y.current.forEach(clearTimeout)},[]),e.useEffect(()=>{if(y.current.forEach(clearTimeout),y.current=[],!(r.current&&a&&o&&u))return void p("idle");if(0===a.width&&0===a.height)return;const t=r.current.getBoundingClientRect(),e={x:a.left+a.width/2-t.left,y:a.top+a.height/2-t.top},n={x:o.left+o.width/2-t.left,y:o.top+o.height/2-t.top};d({start:e,end:n}),p("appearing");const c=setTimeout(()=>{p("moving")},100);y.current.push(c);const l=setTimeout(()=>{p("disappearing")},100+i);y.current.push(l);const f=setTimeout(()=>{p("idle"),s?.()},100+i+200);y.current.push(f)},[a,o,r,u,i,s]),!f||"idle"===l)return null;const{start:h,end:m}=f,x=(()=>{switch(l){case"appearing":return{x:h.x,y:h.y,opacity:0,scale:.6,rotate:-5,transition:"none"};case"moving":return{x:m.x,y:m.y,opacity:1,scale:1.05,rotate:3,transition:`all ${i}ms ease-in-out`};case"disappearing":return{x:m.x,y:m.y,opacity:0,scale:.9,rotate:0,transition:"all 200ms ease-out"};default:return{x:h.x,y:h.y,opacity:0,scale:.8,rotate:0,transition:"none"}}})();return t.jsx("div",{className:`absolute pointer-events-none z-50 ${c}`,style:{left:x.x,top:x.y,opacity:x.opacity,transform:`translate(-50%, -50%) scale(${x.scale}) rotate(${x.rotate}deg)`,transition:x.transition},children:n})}const r=t=>t&&null!==t.offsetParent;export{n as F,r as i};
