import{u as e,S as t,j as s,h as l,b as r}from"./index-DeW22Zn2.js";import{b as i,c as n,D as o,a9 as a,t as c,aJ as x,X as d}from"./react-vendor-BeKtp5AY.js";import{L as h,i as u,a as y,P as g,S as m,b as f,c as p,d as k,g as b}from"./Ludo-Dvuk4Jdp.js";import{u as j}from"./useGameState-BSMNmzbB.js";import{u as w}from"./usePrevious-CWyMgkdp.js";import"./socket-DRbsQkF5.js";import"./zustand-C88HNARu.js";import"./BaseGame-DNUNIW8N.js";const v={[g.RED]:{bg:"bg-red-500",light:"bg-red-200",ring:"ring-red-400",fill:"#ef4444",text:"text-red-500"},[g.BLUE]:{bg:"bg-blue-500",light:"bg-blue-200",ring:"ring-blue-400",fill:"#3b82f6",text:"text-blue-500"},[g.GREEN]:{bg:"bg-green-500",light:"bg-green-200",ring:"ring-green-400",fill:"#22c55e",text:"text-green-500"},[g.YELLOW]:{bg:"bg-yellow-400",light:"bg-yellow-200",ring:"ring-yellow-400",fill:"#eab308",text:"text-yellow-500"}},N={[g.RED]:"#ef444444",[g.BLUE]:"#3b82f644",[g.GREEN]:"#22c55e44",[g.YELLOW]:"#eab30844",stroke:"#0002",base:"#fff1",cell:"#4b5563"};function E({game:E,currentUserId:W}){const R=E,{ti:G,ts:C}=e(),[B]=j(R),[P,I]=i.useState(!1),[Y,$]=i.useState(1),[D,q]=i.useState(!1),[T,O]=i.useState(!1),[S,U]=i.useState(null),A=i.useRef(null),M=i.useRef(null);i.useEffect(()=>{const e=R.onUpdate(e=>{if(null!==e.diceValue&&e.diceValue!==A.current&&!P){const t=e.diceValue;I(!0),q(!1),M.current&&clearInterval(M.current);let s=0;M.current=setInterval(()=>{$(Math.floor(6*Math.random())+1),s++,s>10&&(M.current&&(clearInterval(M.current),M.current=null),$(t),I(!1),q(!0),setTimeout(()=>q(!1),100))},80),A.current=t}else null===e.diceValue&&(A.current=null)});return()=>{M.current&&clearInterval(M.current),e()}},[R]);const V=R.getMyPlayerIndex(),z=B.players[B.currentPlayerIndex],H=z?.id===W,_=R.isHost,J=H&&(!B.hasRolled||B.canRollAgain)&&!P&&!D;w(B.currentPlayerIndex,(e,s)=>{B.gamePhase===h.PLAYING&&null!==e&&t.playTurnSwitch(H)});const Q=null!==B.diceValue&&B.players[B.currentPlayerIndex]?.tokens.some(e=>u(e.position)?6===B.diceValue:!y(e.position)),F=()=>{J&&(A.current=null,R.requestRollDice())},K=e=>[{x:1.5,y:6.5},{x:2.5,y:6.5},{x:3.5,y:6.5},{x:4.5,y:6.5},{x:5.5,y:6.5},{x:6.5,y:5.5},{x:6.5,y:4.5},{x:6.5,y:3.5},{x:6.5,y:2.5},{x:6.5,y:1.5},{x:6.5,y:.5},{x:7.5,y:.5},{x:8.5,y:.5},{x:8.5,y:1.5},{x:8.5,y:2.5},{x:8.5,y:3.5},{x:8.5,y:4.5},{x:8.5,y:5.5},{x:9.5,y:6.5},{x:10.5,y:6.5},{x:11.5,y:6.5},{x:12.5,y:6.5},{x:13.5,y:6.5},{x:14.5,y:6.5},{x:14.5,y:7.5},{x:14.5,y:8.5},{x:13.5,y:8.5},{x:12.5,y:8.5},{x:11.5,y:8.5},{x:10.5,y:8.5},{x:9.5,y:8.5},{x:8.5,y:9.5},{x:8.5,y:10.5},{x:8.5,y:11.5},{x:8.5,y:12.5},{x:8.5,y:13.5},{x:8.5,y:14.5},{x:7.5,y:14.5},{x:6.5,y:14.5},{x:6.5,y:13.5},{x:6.5,y:12.5},{x:6.5,y:11.5},{x:6.5,y:10.5},{x:6.5,y:9.5},{x:5.5,y:8.5},{x:4.5,y:8.5},{x:3.5,y:8.5},{x:2.5,y:8.5},{x:1.5,y:8.5},{x:.5,y:8.5},{x:.5,y:7.5},{x:.5,y:6.5}][e%52]||{x:7.5,y:7.5},X=(e,t,l)=>{const r=((e,t,s)=>{if(u(e)){const e={[g.RED]:{x:3,y:3},[g.GREEN]:{x:12,y:3},[g.YELLOW]:{x:12,y:12},[g.BLUE]:{x:3,y:12}}[t],l=[{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}][s];return{x:e.x+l.dx,y:e.y+l.dy}}if(p(e))return K(e);if(k(e))return{[g.RED]:[{x:1.5,y:7.5},{x:2.5,y:7.5},{x:3.5,y:7.5},{x:4.5,y:7.5},{x:5.5,y:7.5}],[g.GREEN]:[{x:7.5,y:1.5},{x:7.5,y:2.5},{x:7.5,y:3.5},{x:7.5,y:4.5},{x:7.5,y:5.5}],[g.YELLOW]:[{x:13.5,y:7.5},{x:12.5,y:7.5},{x:11.5,y:7.5},{x:10.5,y:7.5},{x:9.5,y:7.5}],[g.BLUE]:[{x:7.5,y:13.5},{x:7.5,y:12.5},{x:7.5,y:11.5},{x:7.5,y:10.5},{x:7.5,y:9.5}]}[t][b(e)]||{x:7.5,y:7.5};return y(e)?{x:7.5,y:7.5}:null})(e.position,t,e.id);if(!r)return null;const i=B.currentPlayerIndex===l,n=!P&&H&&l===V&&B.hasRolled&&R.isTokenMovable(e.id),o=v[t];return s.jsx("div",{className:`\n          absolute w-6 h-6 rounded-full border-2 border-white shadow-lg z-10\n          ${o.bg}\n          ${n?"cursor-pointer":""}\n          ${i&&!n?"opacity-90":""}\n        `,style:{left:r.x/15*100+"%",top:r.y/15*100+"%",transform:n?"translate(-50%, -50%) scale(1.25)":"translate(-50%, -50%)",transition:"left 0.5s ease-in-out, top 0.5s ease-in-out, transform 0.2s ease-in-out",boxShadow:n?`0 0 0 4px ${o.fill}, 0 0 20px ${o.fill}, 0 0 30px ${o.fill}80`:void 0,zIndex:n?20:10,animation:n?"pulse 1s ease-in-out infinite":void 0},onClick:s=>n&&((e,t,s,l,r)=>{if(!H)return;if(!B.hasRolled)return;if(P)return;if(!R.isTokenMovable(e))return;const i=B.players[V];if(!i)return;const n=i.tokens.filter(e=>!!R.isTokenMovable(e.id)&&e.position===s.position&&!u(e.position));if(n.length>1){const e=t.target.getBoundingClientRect();U({tokens:n.map(e=>({token:e,color:l,playerIndex:r})),x:e.left+e.width/2,y:e.top})}else U(null),R.requestMoveToken(e)})(e.id,s,e,t,l),children:s.jsx("span",{className:"flex items-center justify-center w-full h-full text-white text-xs font-bold drop-shadow-lg",children:e.id+1})},`${t}-${e.id}`)};return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 w-full max-w-2xl mx-auto pb-16!",children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"\n@keyframes bounce-dice {\n  0%, 100% { transform: translateY(0) rotate(0deg); }\n  25% { transform: translateY(-20px) rotate(90deg); }\n  50% { transform: translateY(-10px) rotate(180deg); }\n  75% { transform: translateY(-15px) rotate(270deg); }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; box-shadow: 0 0 0 4px currentColor, 0 0 20px currentColor; }\n  50% { opacity: 0.8; box-shadow: 0 0 0 6px currentColor, 0 0 30px currentColor; }\n}\n\n@keyframes pulse-corner {\n  0%, 100% { opacity: 0.3; }\n  50% { opacity: 0.6; }\n}\n"}}),S&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>U(null),children:s.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow-xl border border-slate-600",onClick:e=>e.stopPropagation(),children:[s.jsx("p",{className:"text-white text-sm mb-3 text-center",children:G({en:"Select which token to move:",vi:"Chá»n quÃ¢n cá» Ä‘á»ƒ di chuyá»ƒn:"})}),s.jsx("div",{className:"flex gap-2 justify-center",children:S.tokens.map(({token:e,color:t})=>{const l=v[t];return s.jsx("button",{onClick:()=>{return t=e.id,U(null),void R.requestMoveToken(t);var t},className:`\n                      w-10 h-10 rounded-full border-2 border-white shadow-lg\n                      ${l.bg}\n                      hover:scale-110 transition-transform\n                      flex items-center justify-center\n                    `,children:s.jsx("span",{className:"text-white font-bold text-sm",children:e.id+1})},e.id)})}),s.jsx("p",{className:"text-gray-400 text-xs mt-2 text-center",children:G({en:"Click outside to cancel",vi:"Click ngoÃ i Ä‘á»ƒ há»§y"})})]})}),B.gamePhase===h.PLAYING&&s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"text-lg text-gray-400",children:H?s.jsx("span",{className:"text-green-400 font-semibold",children:G({en:"Your turn!",vi:"Äáº¿n lÆ°á»£t báº¡n!"})}):s.jsxs("span",{children:[G({en:"Waiting for",vi:"Äá»£i"})," ",s.jsx("span",{className:v[z?.color??g.RED].text,children:z?.username}),"..."]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[(()=>{const e={"top-left":"top-1.5 left-1.5","top-right":"top-1.5 right-1.5","middle-left":"top-1/2 left-1.5 -translate-y-1/2","middle-right":"top-1/2 right-1.5 -translate-y-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-left":"bottom-1.5 left-1.5","bottom-right":"bottom-1.5 right-1.5"};return s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[s.jsx("div",{className:`\n            relative w-16 h-16 bg-white rounded-xl shadow-lg border-2 border-gray-300\n            ${J?"cursor-pointer hover:shadow-xl hover:scale-105 transition-all":""}\n          `,style:{animation:P?"bounce-dice 0.3s ease-in-out infinite":void 0},onClick:F,children:({1:["center"],2:["top-right","bottom-left"],3:["top-right","center","bottom-left"],4:["top-left","top-right","bottom-left","bottom-right"],5:["top-left","top-right","center","bottom-left","bottom-right"],6:["top-left","top-right","middle-left","middle-right","bottom-left","bottom-right"]}[Y]||[]).map((t,l)=>s.jsx("div",{className:`absolute w-3 h-3 bg-gray-800 rounded-full ${e[t]}`},l))}),null!==B.diceValue&&!P&&s.jsxs("div",{className:"text-2xl font-bold text-white bg-slate-700 px-3 py-1 rounded-lg",children:["ðŸŽ² ",B.diceValue]})]})})(),J&&s.jsxs("button",{onClick:F,disabled:P,className:"flex items-center gap-2 px-5 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors disabled:opacity-50 font-semibold",children:[s.jsx(o,{className:"w-5 h-5"}),P?G({en:"Rolling...",vi:"Äang tung xÃºc xáº¯c..."}):B.canRollAgain?G({en:"Roll Again! ðŸŽ‰",vi:"Tung láº¡i! ðŸŽ‰"}):G({en:"Roll Dice",vi:"Tung xÃºc xáº¯c"})]})]}),B.hasRolled&&!B.canRollAgain&&H&&!P&&Q&&s.jsxs("span",{className:"text-yellow-400 animate-pulse",children:["ðŸ‘†"," ",G({en:"Click a highlighted token to move",vi:"Click quÃ¢n cá» Ä‘Æ°á»£c tÃ´ sÃ¡ng Ä‘á»ƒ di chuyá»ƒn"})]})]}),B.gamePhase===h.ENDED&&s.jsxs("div",{className:"text-center p-4 bg-slate-800 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Over!"}),s.jsx("p",{className:"text-gray-300",children:B.winner===W?G({en:"ðŸŽ‰ You won!",vi:"ðŸŽ‰ Báº¡n Ä‘Ã£ tháº¯ng!"}):`${B.players.find(e=>e.id===B.winner)?.username} ${G({en:"wins!",vi:"Ä‘Ã£ tháº¯ng!"})}`})]}),B.gamePhase===h.WAITING&&s.jsx("div",{className:"grid grid-cols-2 gap-2 w-full max-w-md",children:[0,1,3,2].map(e=>{const t=B.players[e];if(!t)return null;const r=v[t.color];return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${r.bg}`}),s.jsxs("span",{className:"text-sm text-white",children:[t.id?t.username:G({en:"(empty)",vi:"(trá»‘ng)"}),l(t.flags,f.BOT)&&" ðŸ¤–",t.id===W&&G({en:" (You)",vi:" (Báº¡n)"})]})]}),_&&(l(t.flags,f.BOT)?s.jsx("button",{onClick:()=>R.requestRemoveBot(e),className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded",children:"âœ•"}):!t.id&&s.jsx("button",{onClick:()=>R.requestAddBot(e),className:"text-xs px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white rounded",children:"+Bot"}))]},e)})}),s.jsxs("div",{className:"flex gap-3",children:[B.gamePhase===h.WAITING&&_&&R.canStartGame()&&s.jsxs("button",{onClick:()=>R.requestStartGame(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(a,{className:"w-4 h-4"})," ",G({en:"Start Game",vi:"Báº¯t Ä‘áº§u"})]}),B.gamePhase===h.ENDED&&s.jsxs("button",{onClick:()=>R.requestNewGame(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(c,{className:"w-4 h-4"})," ",G({en:"Play Again",vi:"ChÆ¡i láº¡i"})]})]}),s.jsxs("div",{className:"relative w-full max-w-[450px] aspect-square bg-slate-900 rounded-xl overflow-hidden shadow-2xl border-4 border-black",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 15 15",children:[s.jsx("rect",{x:"0",y:"0",width:"6",height:"6",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.05"}),s.jsx("rect",{x:"1",y:"1",width:"4",height:"4",fill:N.base}),s.jsx("circle",{cx:"2",cy:"2",r:"0.6",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"4",cy:"2",r:"0.6",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"2",cy:"4",r:"0.6",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"4",cy:"4",r:"0.6",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("rect",{x:"9",y:"0",width:"6",height:"6",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.05"}),s.jsx("rect",{x:"10",y:"1",width:"4",height:"4",fill:N.base}),s.jsx("circle",{cx:"11",cy:"2",r:"0.6",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"13",cy:"2",r:"0.6",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"11",cy:"4",r:"0.6",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"13",cy:"4",r:"0.6",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("rect",{x:"9",y:"9",width:"6",height:"6",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.05"}),s.jsx("rect",{x:"10",y:"10",width:"4",height:"4",fill:N.base}),s.jsx("circle",{cx:"11",cy:"11",r:"0.6",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"13",cy:"11",r:"0.6",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"11",cy:"13",r:"0.6",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"13",cy:"13",r:"0.6",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("rect",{x:"0",y:"9",width:"6",height:"6",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.05"}),s.jsx("rect",{x:"1",y:"10",width:"4",height:"4",fill:N.base}),s.jsx("circle",{cx:"2",cy:"11",r:"0.6",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"4",cy:"11",r:"0.6",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"2",cy:"13",r:"0.6",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("circle",{cx:"4",cy:"13",r:"0.6",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.03"}),[0,1,2,3,4,5].map(e=>s.jsxs("g",{children:[s.jsx("rect",{x:e,y:6,width:"1",height:"1",fill:1===e?N[g.RED]:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:e,y:7,width:"1",height:"1",fill:0===e?N.cell:N[g.RED],stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:e,y:8,width:"1",height:"1",fill:N.cell,stroke:N.stroke,strokeWidth:"0.02"})]},`left-${e}`)),[0,1,2,3,4,5].map(e=>s.jsxs("g",{children:[s.jsx("rect",{x:9+e,y:6,width:"1",height:"1",fill:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:9+e,y:7,width:"1",height:"1",fill:e<5?N[g.YELLOW]:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:9+e,y:8,width:"1",height:"1",fill:4===e?N[g.YELLOW]:N.cell,stroke:N.stroke,strokeWidth:"0.02"})]},`right-${e}`)),[0,1,2,3,4,5].map(e=>s.jsxs("g",{children:[s.jsx("rect",{x:6,y:e,width:"1",height:"1",fill:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:7,y:e,width:"1",height:"1",fill:e>0?N[g.GREEN]:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:8,y:e,width:"1",height:"1",fill:1===e?N[g.GREEN]:N.cell,stroke:N.stroke,strokeWidth:"0.02"})]},`top-${e}`)),[0,1,2,3,4,5].map(e=>s.jsxs("g",{children:[s.jsx("rect",{x:6,y:9+e,width:"1",height:"1",fill:4===e?N[g.BLUE]:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:7,y:9+e,width:"1",height:"1",fill:e<5?N[g.BLUE]:N.cell,stroke:N.stroke,strokeWidth:"0.02"}),s.jsx("rect",{x:8,y:9+e,width:"1",height:"1",fill:N.cell,stroke:N.stroke,strokeWidth:"0.02"})]},`bottom-${e}`)),s.jsx("polygon",{points:"6,6 9,6 7.5,7.5",fill:N[g.GREEN],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("polygon",{points:"9,6 9,9 7.5,7.5",fill:N[g.YELLOW],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("polygon",{points:"9,9 6,9 7.5,7.5",fill:N[g.BLUE],stroke:N.stroke,strokeWidth:"0.03"}),s.jsx("polygon",{points:"6,9 6,6 7.5,7.5",fill:N[g.RED],stroke:N.stroke,strokeWidth:"0.03"}),m.map((e,t)=>{const l=K(e);return s.jsx("polygon",{points:L(l.x,l.y,.35),fill:"#fbbf2455",strokeWidth:"0.03",opacity:"0.9"},t)}),B.gamePhase===h.PLAYING&&(()=>{const e=B.players[B.currentPlayerIndex],t={[g.RED]:{x:0,y:0},[g.GREEN]:{x:9,y:0},[g.YELLOW]:{x:9,y:9},[g.BLUE]:{x:0,y:9}}[e.color]||{x:0,y:0};return s.jsx("rect",{x:t.x,y:t.y,width:"6",height:"6",fill:v[e.color].fill,strokeWidth:"0.15",style:{animation:"pulse-corner 1s ease-in-out infinite"}})})()]}),B.players.map((e,t)=>{const r=(e=>{switch(e){case g.RED:return{x:"20%",y:"3%"};case g.GREEN:return{x:"80%",y:"3%"};case g.YELLOW:return{x:"80%",y:"97%"};case g.BLUE:return{x:"20%",y:"97%"};default:return{x:"0%",y:"0%"}}})(e.color),i=B.currentPlayerIndex===t&&B.gamePhase===h.PLAYING,n=v[e.color];return s.jsxs("div",{className:`\n                absolute px-2 py-0.5 rounded text-xs font-bold\n                ${i?`${n.bg} text-white`:"bg-black/50 "+n.text}\n                ${i?"animate-pulse":""}\n              `,style:{left:r.x,top:r.y,transform:`translate(-50%, ${"97%"===r.y?"-100%":"0"})`},children:[e.id?e.username:G({en:"(empty)",vi:"(trá»‘ng)"}),l(e.flags,f.BOT)&&" ðŸ¤–"]},`name-${e.color}`)}),B.players.map((e,t)=>e.id&&e.tokens.map(s=>X(s,e.color,t)))]}),B.gamePhase===h.PLAYING&&_&&s.jsxs("button",{onClick:async()=>{await r.getState().confirm(C({en:"Are you sure you want to reset the game? All progress will be lost.",vi:"Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n reset game? Táº¥t cáº£ tiáº¿n trÃ¬nh sáº½ bá»‹ máº¥t."}),C({en:"New Game",vi:"VÃ¡n má»›i"}))&&R.requestNewGame()},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:[s.jsx(c,{className:"w-4 h-4"})," ",G({en:"New Game",vi:"VÃ¡n má»›i"})]}),s.jsx("button",{onClick:()=>O(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:C({en:"Rules",vi:"Luáº­t chÆ¡i"}),children:s.jsx(x,{size:24})}),T&&n.createPortal(s.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full shadow-2xl relative",children:[s.jsxs("div",{className:"flex justify-between p-4 pr-2",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(x,{className:"w-6 h-6 text-yellow-500"}),G({en:"Game Rules: Ludo",vi:"Luáº­t ChÆ¡i: Cá» CÃ¡ Ngá»±a"})]}),s.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:s.jsx(d,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-4 pt-0 space-y-4 text-slate-300 leading-relaxed max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:G({en:"Ludo is a strategy board game for two to four players, in which the players race their four tokens from start to finish according to the rolls of a single die.",vi:"Ludo (Cá» cÃ¡ ngá»±a) lÃ  trÃ² chÆ¡i chiáº¿n thuáº­t cho 2-4 ngÆ°á»i, ngÆ°á»i chÆ¡i Ä‘ua 4 quÃ¢n cá» tá»« váº¡ch xuáº¥t phÃ¡t vá» Ä‘Ã­ch dá»±a trÃªn káº¿t quáº£ tung xÃºc xáº¯c."})}),s.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:G({en:"Objective",vi:"Má»¥c tiÃªu"})}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.jsx("li",{children:G({en:"Be the first player to move all 4 of your tokens into your home triangle.",vi:"LÃ  ngÆ°á»i Ä‘áº§u tiÃªn Ä‘Æ°a táº¥t cáº£ 4 quÃ¢n cá» vá» Ä‘Ã­ch (hÃ¬nh tam giÃ¡c mÃ u cá»§a mÃ¬nh)."})})}),s.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:G({en:"Gameplay",vi:"Luáº­t chÆ¡i"})}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[s.jsx("li",{children:G({en:"Roll a 6 to move a token out of the starting area.",vi:"Tung Ä‘Æ°á»£c 6 Ä‘á»ƒ Ä‘Æ°a 1 quÃ¢n cá» ra khá»i chuá»“ng."})}),s.jsx("li",{children:G({en:"Rolling a 6 awards an extra roll.",vi:"Tung Ä‘Æ°á»£c 6 sáº½ Ä‘Æ°á»£c Ä‘i thÃªm má»™t lÆ°á»£t ná»¯a."})}),s.jsx("li",{children:G({en:"Capture opponent's token by landing on the same square. The captured token returns to start.",vi:"Ä‚n quÃ¢n Ä‘á»‘i phÆ°Æ¡ng báº±ng cÃ¡ch Ä‘i vÃ o cÃ¹ng Ã´ vá»›i há». QuÃ¢n bá»‹ Äƒn sáº½ quay vá» chuá»“ng."})}),s.jsx("li",{children:G({en:"Safe squares (marked with symbols) protect tokens from being captured.",vi:"CÃ¡c Ã´ an toÃ n (cÃ³ kÃ½ hiá»‡u) sáº½ báº£o vá»‡ quÃ¢n cá» khÃ´ng bá»‹ Äƒn."})})]}),s.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:G({en:"Winning",vi:"Chiáº¿n tháº¯ng"})}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.jsx("li",{children:G({en:"The first player to get all 4 tokens to the finish wins.",vi:"NgÆ°á»i Ä‘áº§u tiÃªn Ä‘Æ°a Ä‘á»§ 4 quÃ¢n vá» Ä‘Ã­ch sáº½ tháº¯ng."})})})]})})]})}),document.body)]})}const L=(e,t,s)=>{const l=[];for(let r=0;r<10;r++){const i=r%2==0?s:.4*s,n=Math.PI/2+r*Math.PI/5,o=e+i*Math.cos(n),a=t-i*Math.sin(n);l.push(`${o},${a}`)}return l.join(" ")};export{E as default};
