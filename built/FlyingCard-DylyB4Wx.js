import{j as t}from"./index-DXRPlG-o.js";import{b as e}from"./react-vendor-CUFzUArh.js";function n({children:n,containerRef:o,sourceRect:s,targetRect:r,duration:i=400,onComplete:a,className:l="",isOpen:c=!0}){const[u,f]=e.useState(null),[m,d]=e.useState(!1);if(e.useEffect(()=>{if(!(o.current&&s&&r&&c))return;const t=o.current.getBoundingClientRect();if(0===s.width&&0===s.height)return;const e={x:s.left+s.width/2-t.left,y:s.top+s.height/2-t.top},n={x:r.left+r.width/2-t.left,y:r.top+r.height/2-t.top};f({startPos:e,endPos:n}),d(!1);const l=setTimeout(()=>{d(!0)},10),u=setTimeout(()=>{a?.()},i+50);return()=>{clearTimeout(l),clearTimeout(u)}},[s,r,o,c,i,a]),!u||!c)return null;const{startPos:p,endPos:h}=u,g=m?h:p;return t.jsx("div",{className:`absolute pointer-events-none z-50 transition-all ease-out ${l}`,style:{left:g.x,top:g.y,transitionDuration:m?`${i}ms`:"0ms",transform:"translate(-50%, -50%) "+(m?"scale(1.1) rotate(5deg)":"scale(0.8)"),opacity:m?1:.8},children:n})}const o=t=>t&&null!==t.offsetParent;export{n as F,o as i};
