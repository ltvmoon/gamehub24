import{u as e,b as s,S as t,j as a}from"./index-BkzCa3Vk.js";import{b as l,c as n,aJ as r,aB as i,aZ as d,O as o,x as c,a5 as x,X as m,as as h,q as u,a_ as b,U as g,ao as p,a1 as f}from"./react-vendor-BLrGWV4Q.js";import"./BaseGame-bmSYX9GV.js";import{a as j,G as v,H as w,b as N,c as y,d as k,S as T}from"./types-qIwhz3td.js";import{u as R}from"./useGameState-C567eRPc.js";import{u as H}from"./usePrevious-DMw_GTo_.js";import"./socket-DRbsQkF5.js";import"./zustand-02WYhwzk.js";function A({game:g}){const p=g,[f]=R(p),{ti:N,ts:y}=e(),{confirm:k}=s(),[T,A]=l.useState(0),[B,P]=l.useState(!1),_=p.isHost,O=p.getMyPlayerIndex(),D=O>=0?f.players[O]:null,G=f.currentTurnIndex===O;H(f.currentTurnIndex,(e,s)=>{"waiting"!==f.gamePhase&&"ended"!==f.gamePhase&&null!==e&&t.playTurnSwitch(G)}),l.useEffect(()=>{if(G){const e=f.minRaise,s=f.currentBet;A(s+e)}},[G,f.minRaise,f.currentBet]);const $=l.useMemo(()=>{const e=[],s=O>=0?O:0;for(let t=0;t<6;t++){const a=(s+t)%6;e.push({slot:f.players[a],actualIndex:a})}return e},[f.players,O]);return a.jsxs("div",{className:"flex flex-col w-full h-full min-h-[700px] bg-slate-900 text-white relative overflow-hidden select-none mb-16!",children:[a.jsxs("div",{className:"relative flex-1 w-full shrink-0",children:[a.jsx("div",{className:"absolute inset-4 @md:inset-10 bg-[#35654d] border-16 border-[#4a2c20] rounded-[100px] shadow-2xl opacity-90 mx-auto max-w-6xl"}),a.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 z-0 w-full max-w-md",children:[a.jsxs("div",{className:"bg-black/40 px-6 py-2 rounded-full border border-yellow-500/30 glass-blur flex items-center gap-2",children:[a.jsx(r,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{className:"text-yellow-400 font-bold text-lg",children:[N({en:"Pot",vi:"Tổng"}),": ",f.pot]})]}),a.jsxs("div",{className:"flex gap-2 min-h-[80px]",children:[f.communityCards.map((e,s)=>a.jsx(F,{card:e,size:"lg",className:"animate-in fade-in slide-in-from-bottom-12 duration-700 ease-out"},s)),Array(5-f.communityCards.length).fill(null).map((e,s)=>a.jsx("div",{className:"w-14 h-20 @md:w-16 @md:h-24 border-2 border-white/10 rounded-lg bg-black/10"},`empty-${s}`))]}),"ended"===f.gamePhase&&a.jsxs("div",{className:"text-xl font-bold text-yellow-400 animate-bounce flex items-center gap-2 drop-shadow-md",children:[a.jsx(i,{className:"w-6 h-6"}),f.winnerIds.map(e=>f.players.find(s=>s.id===e)?.username).join(", ")," ",N({en:"Won!",vi:"Thắng!"}),f.winningHand&&a.jsxs("div",{className:"text-sm font-normal text-white ml-2",children:["(",N(j[f.winningHand.rank]||{en:f.winningHand.name,vi:f.winningHand.name}),")"]})]})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:$.map((e,s)=>a.jsx("div",{className:`absolute pointer-events-auto ${C(s)}`,children:a.jsx(L,{player:e.slot,isSelf:O===e.actualIndex,isActiveTurn:f.currentTurnIndex===e.actualIndex,isHost:_,gamePhase:f.gamePhase,winnerIds:f.winnerIds,bestHandName:(O===e.actualIndex||"ended"===f.gamePhase)&&e.slot.hand.length>0?N(j[p.evaluateHand(e.slot.hand,f.communityCards).rank]):void 0,bestHandRank:(O===e.actualIndex||"ended"===f.gamePhase)&&e.slot.hand.length>0?p.evaluateHand(e.slot.hand,f.communityCards).rank:void 0,onAddBot:()=>p.requestAddBot(e.actualIndex),onRemove:()=>p.requestRemovePlayer(e.actualIndex),onOpenRules:()=>P(!0)})},e.actualIndex))})]}),a.jsxs("div",{className:"w-full shrink-0 p-2 bg-slate-900/80 glass-blur border-t border-slate-700 flex flex-col items-center justify-between gap-4 z-20",children:[a.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4 text-xs text-slate-400",children:[a.jsxs("span",{children:[N({en:"Phase: ",vi:"Giai đoạn: "}),N(v[f.gamePhase])]}),a.jsxs("span",{children:[N({en:"Min Raise: ",vi:"Tố tối thiểu: "}),f.minRaise]}),f.lastAction&&a.jsxs("span",{className:"text-white",children:[N({en:"Last: ",vi:"Vừa xong: "}),f.players.find(e=>e.id===f.lastAction?.playerId)?.username," ",f.lastAction.action," ",f.lastAction.amount]})]}),"waiting"!==f.gamePhase&&"ended"!==f.gamePhase&&(G&&D?a.jsxs("div",{className:"flex flex-wrap @md:flex-nowrap items-center justify-center gap-2 w-full @md:w-auto",children:[a.jsx("button",{onClick:()=>{p.requestFold()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-red-900/80 hover:bg-red-800 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:a.jsx("span",{className:"text-xs @md:text-sm",children:N({en:"FOLD",vi:"BỎ BÀI"})})}),f.currentBet>D.currentBet?a.jsxs("button",{onClick:()=>{p.requestCall()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-blue-900/80 hover:bg-blue-800 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:[a.jsx("span",{className:"text-xs @md:text-sm",children:N({en:"CALL",vi:"THEO"})}),a.jsx("span",{className:"text-[10px] @md:text-xs",children:f.currentBet-D.currentBet})]}):a.jsx("button",{onClick:()=>{p.requestCheck()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:a.jsx("span",{className:"text-xs @md:text-sm",children:N({en:"CHECK",vi:"XEM"})})}),a.jsxs("div",{className:"order-first @md:order-0 w-full @md:w-auto flex items-center justify-center gap-2 bg-black/40 p-1.5 rounded-lg border border-slate-700 mb-2 @md:mb-0",children:[a.jsx("button",{onClick:()=>A(Math.max(f.currentBet+f.minRaise,T-f.minRaise)),className:"p-2 hover:bg-white/10 rounded",children:a.jsx(d,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex flex-col items-center w-20",children:[a.jsx("span",{className:"text-[10px] text-slate-400",children:N({en:"RAISE TO",vi:"TỐ LÊN"})}),a.jsx("input",{type:"number",value:T,onChange:e=>A(Number(e.target.value)),className:"w-full bg-transparent text-center font-bold outline-none text-sm"})]}),a.jsx("button",{onClick:()=>A(T+f.minRaise),className:"p-2 hover:bg-white/10 rounded",children:a.jsx(o,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{p.requestRaise(T)},disabled:T>D.chips+D.currentBet,className:"ml-2 px-3 py-1.5 bg-green-700 hover:bg-green-600 rounded text-xs font-bold disabled:opacity-50 h-full",children:N({en:"RAISE",vi:"TỐ"})})]}),a.jsx("button",{onClick:()=>{p.requestAllIn()},className:"flex-1 @md:flex-none px-4 @md:px-6 py-3 bg-orange-700 hover:bg-orange-600 rounded-lg text-white font-bold flex flex-col items-center min-w-[60px]",children:a.jsx("span",{className:"text-xs @md:text-sm",children:N({en:"ALL IN",vi:"TẤT TAY"})})})]}):a.jsx("div",{className:"flex items-center justify-center gap-2 p-4 bg-slate-800/50 rounded-lg border border-slate-700 w-full @md:w-auto min-w-[200px]",children:a.jsx("div",{className:"flex items-center gap-2 text-slate-400 animate-pulse",children:a.jsx("span",{className:"text-sm font-bold",children:N({en:`Waiting for ${f.players[f.currentTurnIndex]?.username}'s turn...`,vi:`Đang chờ lượt của ${f.players[f.currentTurnIndex]?.username}...`})})})})),"waiting"===f.gamePhase&&_&&a.jsx("div",{className:"w-full flex justify-center",children:f.players.filter(e=>null!==e.id).length>=2?a.jsx("button",{onClick:()=>p.requestStartGame(),className:"px-8 py-3 bg-green-600 hover:bg-green-500 rounded-xl font-bold text-lg shadow-lg shadow-green-900/20 w-full @md:w-auto",children:N({en:"Start Game",vi:"Bắt đầu"})}):a.jsx("div",{className:"px-8 py-3 bg-slate-700/50 rounded-xl font-bold text-lg text-slate-400 border border-slate-600 w-full @md:w-auto text-center cursor-not-allowed",children:N({en:"Waiting for players (min 2)...",vi:"Đang chờ người chơi (tối thiểu 2)..."})})})]}),"ended"===f.gamePhase&&_&&a.jsxs("div",{className:"w-full flex justify-center items-center gap-4 mt-6 z-50 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("button",{onClick:()=>p.requestStartGame(),className:"px-6 py-3 bg-green-600 hover:bg-green-500 rounded-xl font-bold text-lg shadow-lg shadow-green-900/40 flex items-center gap-2 text-white transition-all transform hover:scale-105",children:[a.jsx(c,{className:"w-5 h-5"}),N({en:"Next Hand",vi:"Ván tiếp theo"})]}),a.jsxs("button",{onClick:async()=>{await k(y({en:"Are you sure you want to reset all chips and start over?",vi:"Bạn có chắc chắn muốn reset tiền và chơi lại từ đầu không?"}),y({en:"Reset Game",vi:"Chơi lại từ đầu"}))&&p.requestResetGame()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl font-bold text-lg shadow-lg border border-slate-600 flex items-center gap-2 text-slate-300 hover:text-white transition-all",children:[a.jsx(x,{className:"w-5 h-5"}),N({en:"Reset Game",vi:"Chơi lại từ đầu"})]})]}),"waiting"!==f.gamePhase&&"ended"!==f.gamePhase&&_&&a.jsx("div",{className:"flex items-center justify-center mt-6",children:a.jsxs("button",{onClick:async()=>{await k(y({en:"Are you sure you want to end the game?",vi:"Bạn có chắc chắn muốn kết thúc game không?"}),y({en:"End Game",vi:"Kết thúc"}))&&p.requestResetGame()},className:"flex items-center gap-2 px-3 py-2 bg-red-900/20 hover:bg-red-900/50 rounded-lg text-red-500 hover:text-red-300 border border-red-900/30 text-xs font-bold transition-colors",children:[a.jsx(m,{className:"w-5 h-5"}),N({en:"End Game",vi:"Kết thúc"})]})}),a.jsx("button",{onClick:()=>P(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:y({en:"Rules",vi:"Luật chơi"}),children:a.jsx(h,{size:24})}),B&&n.createPortal(a.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center bg-black/80 p-4 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full max-h-[85vh] flex flex-col shadow-2xl relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800 border-b border-slate-700 shrink-0",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(h,{className:"w-6 h-6 text-yellow-500"}),N({en:"How to Play Poker",vi:"Luật Chơi Poker"})]}),a.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:a.jsx(m,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-8 text-slate-300",children:[a.jsx("section",{children:a.jsx("p",{className:"text-base text-slate-100 italic border-l-4 border-yellow-500 pl-4 py-1 bg-yellow-500/10 rounded-r",children:N({en:"Create the best 5-card hand using your 2 hole cards and 5 community cards.",vi:"Tạo ra tay bài 5 lá mạnh nhất từ 2 lá bài tẩy của bạn và 5 lá bài chung."})})}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[a.jsx(u,{className:"w-5 h-5"}),N({en:"Chips & Blinds",vi:"Tiền & Mù"})]}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[a.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-1",children:[a.jsx("span",{children:N({en:"Starting Chips",vi:"Tiền khởi điểm"})}),a.jsx("span",{className:"font-bold text-yellow-500",children:"1000"})]}),a.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-1",children:[a.jsx("span",{children:N({en:"Blinds (Small/Big)",vi:"Tiền mù (Nhỏ/Lớn)"})}),a.jsx("span",{className:"font-bold text-white",children:"10 / 20"})]}),a.jsx("li",{className:"text-xs text-slate-400 italic mt-2",children:N({en:"Auto-Rebuy: Chips reset to 1000 if you go bankrupt (Next Hand).",vi:"Tự động bơm tiền: Reset về 1000 nếu bạn cháy túi (Ván sau)."})})]})]}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[a.jsx(b,{className:"w-5 h-5"}),N({en:"Dealer Position",vi:"Vị trí Dealer"})]}),a.jsx("p",{className:"text-sm text-slate-300 mb-2",children:N({en:"The Dealer button (D) moves clockwise each hand. It determines who posts Blinds and acts last after the flop.",vi:"Nút Dealer (D) di chuyển theo chiều kim đồng hồ mỗi ván. Nó xác định ai đặt tiền mù và ai hành động cuối cùng sau khi chia bài chung."})})]}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[a.jsx(i,{className:"w-5 h-5"}),N({en:"Hand Rankings",vi:"Thứ tự tay bài"}),a.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-800 px-2 py-0.5 rounded ml-auto",children:N({en:"Strongest to Weakest",vi:"Từ mạnh đến yếu"})})]}),a.jsx("div",{className:"space-y-2 text-sm",children:[{id:w.ROYAL_FLUSH,desc:{en:"A, K, Q, J, 10 same suit",vi:"Sảnh rồng đồng chất (A-10)"}},{id:w.STRAIGHT_FLUSH,desc:{en:"5 consecutive cards same suit",vi:"5 lá liên tiếp đồng chất"}},{id:w.FOUR_OF_A_KIND,desc:{en:"4 cards of same rank",vi:"4 lá giống nhau"}},{id:w.FULL_HOUSE,desc:{en:"3 matching + 2 matching",vi:"1 bộ ba + 1 bộ đôi"}},{id:w.FLUSH,desc:{en:"5 cards same suit",vi:"5 lá cùng chất"}},{id:w.STRAIGHT,desc:{en:"5 consecutive cards",vi:"5 lá liên tiếp"}},{id:w.THREE_OF_A_KIND,desc:{en:"3 cards of same rank",vi:"3 lá giống nhau"}},{id:w.TWO_PAIR,desc:{en:"2 different pairs",vi:"2 đôi khác nhau"}},{id:w.PAIR,desc:{en:"2 cards of same rank",vi:"2 lá giống nhau"}},{id:w.HIGH_CARD,desc:{en:"Highest card plays",vi:"Lá bài cao nhất"}}].map((e,s)=>a.jsxs("div",{className:"flex justify-between items-center p-2 rounded "+(s%2==0?"bg-slate-800/50":""),children:[a.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded-full border ${I(e.id)}`,children:[a.jsx(i,{className:`w-3 h-3 ${S(e.id)}`}),a.jsx("span",{className:"font-bold",children:N(j[e.id])})]}),a.jsx("span",{className:"text-slate-400 text-sm",children:N(e.desc)})]},s))})]}),a.jsxs("div",{className:"grid grid-cols-1 @md:grid-cols-2 gap-6",children:[a.jsxs("section",{children:[a.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[a.jsx(x,{className:"w-5 h-5"}),N({en:"Game Rounds",vi:"Vòng cược"})]}),a.jsx("ol",{className:"relative border-l border-slate-700 ml-3 space-y-0",children:[{name:"Pre-Flop",vi:"Pre-Flop",desc:{en:"2 Hole Cards Deal",vi:"Chia 2 lá tẩy"}},{name:"Flop",vi:"Flop",desc:{en:"3 Community Cards",vi:"3 lá chung đầu"}},{name:"Turn",vi:"Turn",desc:{en:"4th Community Card",vi:"Lá chung thứ 4"}},{name:"River",vi:"River",desc:{en:"Last Community Card",vi:"Lá chung cuối"}},{name:"Showdown",vi:"Lật bài",desc:{en:"Best hand wins pot",vi:"So bài & Trả thưởng"}}].map((e,s)=>a.jsxs("li",{className:"mb-4 last:mb-0 ml-4",children:[a.jsx("div",{className:"absolute w-3 h-3 bg-slate-600 rounded-full -left-[21px] mt-1.5 border border-slate-900"}),a.jsx("h4",{className:"font-bold text-white",children:N({en:e.name,vi:e.vi})}),a.jsx("p",{className:"text-sm text-slate-400",children:N(e.desc)})]},s))})]}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-3 flex items-center gap-2",children:[a.jsx(r,{className:"w-5 h-5"}),N({en:"Actions",vi:"Hành động"})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-slate-500",children:[a.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[a.jsx("strong",{className:"text-white",children:N({en:"Check / Fold",vi:"Xem / Bỏ"})}),a.jsx("span",{className:"text-xs text-slate-500 uppercase",children:N({en:"Weak",vi:"Yếu"})})]}),a.jsx("p",{className:"text-sm text-slate-400",children:N({en:"Skip turn if no bet / Discard hand.",vi:"Xem (không cược) / Bỏ bài."})})]}),a.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[a.jsx("strong",{className:"text-blue-200",children:N({en:"Call",vi:"Theo"})}),a.jsx("span",{className:"text-xs text-blue-500/50 uppercase",children:N({en:"Passive",vi:"Thụ động"})})]}),a.jsx("p",{className:"text-sm text-slate-400",children:N({en:"Match current highest bet.",vi:"Theo cược bằng người trước."})})]}),a.jsxs("li",{className:"bg-slate-800/50 p-3 rounded-lg border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[a.jsx("strong",{className:"text-green-200",children:N({en:"Raise / All-in",vi:"Tố / Tất tay"})}),a.jsx("span",{className:"text-xs text-green-500/50 uppercase",children:N({en:"Aggressive",vi:"Mạnh"})})]}),a.jsx("p",{className:"text-sm text-slate-400",children:N({en:"Increase bet / Bet everything.",vi:"Tố thêm tiền / Cược tất tay."})})]})]})]})]})]})]})}),document.body)]})}const C=e=>{const s="@md:bottom-[5%] @md:left-1/2 @md:-translate-x-1/2 @md:top-auto @md:right-auto",t="@md:bottom-[20%] @md:left-[5%] @md:top-auto @md:right-auto",a="@md:top-[20%] @md:left-[5%] @md:bottom-auto @md:right-auto",l="@md:top-[5%] @md:left-1/2 @md:-translate-x-1/2 @md:bottom-auto @md:right-auto",n="@md:top-[20%] @md:right-[5%] @md:bottom-auto @md:left-auto",r="@md:bottom-[20%] @md:right-[5%] @md:top-auto @md:left-auto";switch(e){case 0:return`bottom-6 left-1/2 -translate-x-1/2 ${s}`;case 1:return`bottom-10 left-1 ${t}`;case 5:return`bottom-10 right-1 ${r}`;case 3:return`top-6 left-1/2 -translate-x-1/2 ${l}`;case 2:return`top-10 left-1 ${a}`;case 4:return`top-10 right-1 ${n}`;default:return""}},I=e=>{if(void 0===e)return"bg-slate-900/90 border-slate-500/50 text-slate-200";switch(e){case w.ROYAL_FLUSH:case w.STRAIGHT_FLUSH:return"bg-purple-900/90 border-purple-500/50 text-purple-200 shadow-purple-900/50";case w.FOUR_OF_A_KIND:case w.FULL_HOUSE:return"bg-red-900/90 border-red-500/50 text-red-100 shadow-red-900/50";case w.FLUSH:case w.STRAIGHT:return"bg-blue-900/90 border-blue-500/50 text-blue-100 shadow-blue-900/50";case w.THREE_OF_A_KIND:case w.TWO_PAIR:return"bg-green-900/90 border-green-500/50 text-green-100 shadow-green-900/50";default:return"bg-slate-800/90 border-slate-500/50 text-slate-300 shadow-slate-900/50"}},S=e=>{if(void 0===e)return"text-slate-400";switch(e){case w.ROYAL_FLUSH:case w.STRAIGHT_FLUSH:return"text-purple-400";case w.FOUR_OF_A_KIND:case w.FULL_HOUSE:return"text-red-400";case w.FLUSH:case w.STRAIGHT:return"text-blue-400";case w.THREE_OF_A_KIND:case w.TWO_PAIR:return"text-green-400";default:return"text-slate-400"}};function L({player:s,isSelf:t,isActiveTurn:l,isHost:n,gamePhase:d,winnerIds:o,onAddBot:c,onRemove:x,bestHandName:h,bestHandRank:u,onOpenRules:b}){const{ti:j}=e(),v=null===s.id,w=s.id&&o.includes(s.id);return v?a.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50 hover:opacity-100 transition-opacity",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-slate-500 flex items-center justify-center bg-black/20 text-slate-400",children:a.jsx(g,{className:"w-8 h-8"})}),"waiting"===d&&a.jsx("div",{className:"flex flex-col gap-1",children:n&&a.jsxs("button",{onClick:c,className:"px-3 py-1 bg-slate-700 rounded text-xs flex items-center gap-1",children:[a.jsx(p,{className:"w-3 h-3"})," Bot"]})})]}):a.jsxs("div",{className:`\n            relative flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-300\n            ${l?"bg-yellow-500/20 ring-2 ring-yellow-400 scale-105":"bg-slate-900/60 ring-1 ring-slate-700"}\n            ${s.hasFolded?"opacity-50 grayscale":""}\n            ${w?"animate-bounce":""}\n            w-[90px] @md:w-[140px]\n        `,children:[s.isDealer&&a.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 bg-white rounded-full flex items-center justify-center text-black font-bold text-xs border-2 border-slate-300 shadow-lg z-20",children:"D"}),a.jsxs("div",{className:"flex items-center gap-2 mb-1 w-full justify-center",children:[s.isHost&&a.jsx(f,{className:"w-3 h-3 text-yellow-500"}),s.isBot&&a.jsx(p,{className:"w-3 h-3 text-blue-400"}),a.jsx("span",{className:"text-xs font-bold truncate max-w-[80px]",children:s.username})]}),a.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded-full text-green-400 text-xs font-mono w-full justify-center",children:[a.jsx(r,{className:"w-3 h-3"})," ",s.chips]}),a.jsxs("div",{className:"flex justify-center -space-x-4 min-h-[50px] mt-1 relative",children:[s.hand.length>0?a.jsx(a.Fragment,{children:t||"showdown"===d||"ended"===d?s.hand.map((e,s)=>a.jsx("div",{className:`transform ${0===s?"-rotate-6":"rotate-6"} origin-bottom`,children:a.jsx(F,{card:e,size:"md",className:"animate-in fade-in slide-in-from-bottom-8 duration-500 ease-out"})},s)):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-14 bg-blue-900 rounded border-2 border-white/20 transform -rotate-6 shadow-lg bg-[url('/card-back.png')]"}),a.jsx("div",{className:"w-10 h-14 bg-blue-900 rounded border-2 border-white/20 transform rotate-6 shadow-lg bg-[url('/card-back.png')]"})]})}):a.jsx("div",{className:"h-[50px]"}),s.hasFolded&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded text-xs font-bold text-red-400",children:j({en:"FOLDED",vi:"ĐÃ BỎ"})})]}),s.currentBet>0&&a.jsxs("div",{className:"absolute -bottom-3 bg-yellow-900/80 px-2 py-1 rounded text-yellow-300 text-xs font-bold border border-yellow-500/30 flex items-center gap-1",children:[a.jsx(r,{className:"w-3 h-3"})," ",s.currentBet]}),(t||"ended"===d)&&!s.hasFolded&&h&&a.jsxs("div",{onClick:b,className:`absolute -top-6 whitespace-nowrap border px-2 py-0.5 rounded-full text-[10px] font-bold shadow-lg animate-in fade-in slide-in-from-bottom-2 z-40 flex items-center gap-1 transition-all duration-300 cursor-pointer hover:scale-110 ${I(u)}`,children:[a.jsx(i,{className:`w-3 h-3 ${S(u)}`}),h]})]}),n&&"waiting"===d&&(s.isBot||s.isGuest)&&a.jsx("button",{onClick:x,className:"absolute -top-2 -left-2 w-5 h-5 bg-red-600 rounded-full flex items-center justify-center text-white hover:bg-red-500 z-30",children:a.jsx(m,{className:"w-3 h-3"})})]})}function F({card:e,size:s="md",className:t="",compact:l=!0}){const{rank:n,suit:r}=k(e),i=r===T.HEART||r===T.DIAMOND;return a.jsxs("div",{className:`${{sm:"w-8 h-12 @md:w-10 @md:h-14 text-[10px] @md:text-xs",md:"w-10 h-14 @md:w-14 @md:h-20 text-xs @md:text-sm",lg:"w-12 h-16 @md:w-16 @md:h-24 text-sm @md:text-lg"}[s]} bg-white rounded-md shadow-lg border border-slate-300 flex flex-col items-center justify-between p-1 select-none ${t}`,children:[a.jsx("div",{className:`self-start font-bold ${i?"text-red-600":"text-slate-900"} leading-none`,children:N[n]}),a.jsx("div",{className:(i?"text-red-500":"text-slate-800")+" text-xl @md:text-2xl",children:y[r]}),a.jsx("div",{className:`self-end font-bold ${i?"text-red-600":"text-slate-900"} leading-none rotate-180`,children:l?"":N[n]})]})}export{A as default};
