import{b as e,e as s,a as t,u as l,S as n,j as a,g as r}from"./index-CEzAQWu3.js";import{bc as i,bd as o,b3 as c,be as d,b4 as x,bf as h,aD as m,s as u,a5 as b,t as g,a3 as p,aW as f,az as N,aX as v,aC as j,b6 as w,aU as y,bg as C,b as E,c as T,l as k,N as I,x as P,as as A,aE as D,ao as R,U as S,a1 as O,X as L,bh as $,v as U,w as F,$ as G,bi as B,a8 as _}from"./react-vendor-DqXWPFvx.js";import{E as H,a as M,D as K,P as Y}from"./ExplodingKittens-BWkwLzr3.js";import{u as W}from"./useGameState-Dipf37lO.js";import{u as X}from"./usePrevious-D6szrXuM.js";import{F as z,i as q}from"./FlyingCard-BvM9-S7j.js";import"./socket-DRbsQkF5.js";import"./zustand-DU6GIr7P.js";import"./BaseGame-B-PFb0tN.js";const V={[H.EXPLODING_KITTEN]:{name:{en:"EXPLODING KITTEN",vi:"M√àO N·ªî"},description:{en:"You explode! Unless you have a Defuse.",vi:"B·∫°n n·ªï tung! Tr·ª´ khi b·∫°n c√≥ l√° G·ª° Bom."},icon:C,bgColor:"bg-red-600",borderColor:"border-red-400",iconColor:"text-white",textColor:"text-white"},[H.DEFUSE]:{name:{en:"DEFUSE",vi:"G·ª† BOM"},description:{en:"Save yourself from a kitten.",vi:"C·ª©u b·∫£n th√¢n kh·ªèi m√®o n·ªï."},icon:y,bgColor:"bg-green-600",borderColor:"border-green-400",iconColor:"text-white",textColor:"text-white"},[H.ATTACK]:{name:{en:"ATTACK",vi:"T·∫§N C√îNG"},description:{en:"End your turn and force next player to take 2 turns.",vi:"K·∫øt th√∫c l∆∞·ª£t v√† b·∫Øt ng∆∞·ªùi ch∆°i sau ƒëi 2 l∆∞·ª£t."},icon:w,bgColor:"bg-orange-600",borderColor:"border-orange-400",iconColor:"text-white",textColor:"text-white"},[H.SKIP]:{name:{en:"SKIP",vi:"B·ªé L∆Ø·ª¢T"},description:{en:"End your turn without drawing a card.",vi:"K·∫øt th√∫c l∆∞·ª£t m√† kh√¥ng c·∫ßn r√∫t b√†i."},icon:j,bgColor:"bg-blue-600",borderColor:"border-blue-400",iconColor:"text-white",textColor:"text-white"},[H.FAVOR]:{name:{en:"FAVOR",vi:"THI·ªÜN √ù"},description:{en:"Choose a player to give you a card.",vi:"Ch·ªçn m·ªôt ng∆∞·ªùi ch∆°i ƒë·ªÉ l·∫•y 1 l√° b√†i t·ª´ h·ªç."},icon:v,bgColor:"bg-pink-600",borderColor:"border-pink-400",iconColor:"text-white",textColor:"text-white"},[H.SHUFFLE]:{name:{en:"SHUFFLE",vi:"X√ÅO B√ÄI"},description:{en:"Randomly mix the deck.",vi:"X√°o tr·ªôn ng·∫´u nhi√™n x·∫•p b√†i."},icon:N,bgColor:"bg-purple-600",borderColor:"border-purple-400",iconColor:"text-white",textColor:"text-white"},[H.SEE_THE_FUTURE]:{name:{en:"SEE FUTURE",vi:"XEM TR∆Ø·ªöC"},description:{en:"Peek at the top 3 cards of the deck.",vi:"Xem 3 l√° b√†i tr√™n c√πng c·ªßa x·∫•p b√†i."},icon:f,bgColor:"bg-cyan-600",borderColor:"border-cyan-400",iconColor:"text-white",textColor:"text-white"},[H.NOPE]:{name:{en:"NOPE",vi:"CH·∫∂N!"},description:{en:"Stop other player's action.",vi:"Ch·∫∑n h√†nh ƒë·ªông c·ªßa ng∆∞·ªùi ch∆°i kh√°c."},icon:p,bgColor:"bg-slate-700",borderColor:"border-slate-500",iconColor:"text-white",textColor:"text-white"},[H.CAT_1]:{name:{en:"BLUE CAT",vi:"M√àO XANH"},description:{en:"Collect pairs for special actions.",vi:"Thu th·∫≠p ƒë·ªÉ d√πng combo."},icon:g,bgColor:"bg-slate-800",borderColor:"border-slate-600",iconColor:"text-blue-400",textColor:"text-slate-300",isCombo:!0},[H.CAT_2]:{name:{en:"RED CAT",vi:"M√àO ƒê·ªé"},description:{en:"Collect pairs for special actions.",vi:"Thu th·∫≠p ƒë·ªÉ d√πng combo."},icon:g,bgColor:"bg-slate-800",borderColor:"border-slate-600",iconColor:"text-red-400",textColor:"text-slate-300",isCombo:!0},[H.CAT_3]:{name:{en:"PURPLE CAT",vi:"M√àO T√çM"},description:{en:"Collect pairs for special actions.",vi:"Thu th·∫≠p ƒë·ªÉ d√πng combo."},icon:g,bgColor:"bg-slate-800",borderColor:"border-slate-600",iconColor:"text-purple-400",textColor:"text-slate-300",isCombo:!0},[H.CAT_4]:{name:{en:"YELLOW CAT",vi:"M√àO V√ÄNG"},description:{en:"Collect pairs for special actions.",vi:"Thu th·∫≠p ƒë·ªÉ d√πng combo."},icon:g,bgColor:"bg-slate-800",borderColor:"border-slate-600",iconColor:"text-yellow-400",textColor:"text-slate-300",isCombo:!0},[H.CAT_5]:{name:{en:"GREEN CAT",vi:"M√àO L√Å"},description:{en:"Collect pairs for special actions.",vi:"Thu th·∫≠p ƒë·ªÉ d√πng combo."},icon:g,bgColor:"bg-slate-800",borderColor:"border-slate-600",iconColor:"text-green-400",textColor:"text-slate-300",isCombo:!0},[H.REVERSE]:{name:{en:"REVERSE",vi:"ƒê·∫¢O CHI·ªÄU"},description:{en:"Reverse direction, end turn without drawing.",vi:"ƒê·∫£o chi·ªÅu v√≤ng ch∆°i, k·∫øt th√∫c l∆∞·ª£t m√† kh√¥ng r√∫t b√†i."},icon:b,bgColor:"bg-yellow-600",borderColor:"border-yellow-400",iconColor:"text-white",textColor:"text-white"},[H.TARGETED_ATTACK]:{name:{en:"TARGETED ATTACK",vi:"T·∫§N C√îNG ƒê√çCH DANH"},description:{en:"Choose a player to take 2 turns.",vi:"Ch·ªçn ng∆∞·ªùi ph·∫£i ƒëi 2 l∆∞·ª£t."},icon:u,bgColor:"bg-orange-600",borderColor:"border-orange-400",iconColor:"text-white",textColor:"text-white"},[H.ALTER_THE_FUTURE_3]:{name:{en:"ALTER FUTURE 3X",vi:"S·ª¨A T∆Ø∆†NG LAI 3X"},description:{en:"View and reorder top 3 cards.",vi:"Xem v√† s·∫Øp x·∫øp l·∫°i 3 l√° tr√™n c√πng."},icon:m,bgColor:"bg-indigo-600",borderColor:"border-indigo-400",iconColor:"text-white",textColor:"text-white"},[H.ALTER_THE_FUTURE_5]:{name:{en:"ALTER FUTURE 5X",vi:"S·ª¨A T∆Ø∆†NG LAI 5X"},description:{en:"View and reorder top 5 cards.",vi:"Xem v√† s·∫Øp x·∫øp l·∫°i 5 l√° tr√™n c√πng."},icon:h,bgColor:"bg-violet-600",borderColor:"border-violet-400",iconColor:"text-white",textColor:"text-white"},[H.PERSONAL_ATTACK]:{name:{en:"PERSONAL ATTACK",vi:"T·ª∞ T·∫§N C√îNG"},description:{en:"You take 3 turns immediately.",vi:"B·∫°n ph·∫£i th·ª±c hi·ªán ngay 3 l∆∞·ª£t."},icon:x,bgColor:"bg-orange-600",borderColor:"border-orange-400",iconColor:"text-white",textColor:"text-white"},[H.CATOMIC_BOMB]:{name:{en:"CATOMIC BOMB",vi:"BOM NGUY√äN T·ª¨"},description:{en:"All exploding kittens go to top. Turn ends.",vi:"T·∫•t c·∫£ m√®o n·ªï l√™n ƒë·∫ßu ch·ªìng b√†i. K·∫øt th√∫c l∆∞·ª£t."},icon:d,bgColor:"bg-slate-700",borderColor:"border-slate-600",iconColor:"text-red-500",textColor:"text-white"},[H.DRAW_BOTTOM]:{name:{en:"DRAW BOTTOM",vi:"R√öT ƒê√ÅY"},description:{en:"Draw from bottom. Turn ends.",vi:"R√∫t b√†i t·ª´ ƒë√°y. K·∫øt th√∫c l∆∞·ª£t."},icon:c,bgColor:"bg-teal-600",borderColor:"border-teal-400",iconColor:"text-white",textColor:"text-white"},[H.BURY]:{name:{en:"BURY",vi:"CH√îN C·∫§T"},description:{en:"Draw top card secretly and bury it. Turn ends.",vi:"R√∫t l√° ƒë·∫ßu v√† ch√¥n v√†o ch·ªìng b√†i. K·∫øt th√∫c l∆∞·ª£t."},icon:o,bgColor:"bg-amber-700",borderColor:"border-amber-500",iconColor:"text-white",textColor:"text-white"},[H.SUPER_SKIP]:{name:{en:"SUPER SKIP",vi:"SI√äU B·ªé L∆Ø·ª¢T"},description:{en:"End ALL turns, even from Attack cards.",vi:"K·∫øt th√∫c T·∫§T C·∫¢ l∆∞·ª£t, k·ªÉ c·∫£ t·ª´ l√° T·∫•n C√¥ng."},icon:i,bgColor:"bg-emerald-600",borderColor:"border-emerald-400",iconColor:"text-white",textColor:"text-white"}},Q={2:{name:{en:"PAIR",vi:"C·∫∂P"},description:{en:"Steal a random card from another player.",vi:"C∆∞·ªõp 1 l√° b√†i ng·∫´u nhi√™n c·ªßa ng∆∞·ªùi kh√°c."}},3:{name:{en:"THREE OF A KIND",vi:"B·ªò 3"},description:{en:"Name a card and steal it from another player.",vi:"Ch·ªçn 1 lo·∫°i b√†i v√† c∆∞·ªõp 1 l√° t·ª´ ng∆∞·ªùi ch∆°i kh√°c."}},5:{name:{en:"FIVE DIFFERENT CARDS",vi:"B·ªò 5 KH√ÅC LO·∫†I"},description:{en:"Take any card from the discard pile.",vi:"L·∫•y b·∫•t k·ª≥ l√° b√†i n√†o t·ª´ ƒë·ªëng b√†i ƒë√£ ƒë√°nh."}}},J=({state:e,game:s,mySlot:t})=>{const{ti:n}=l(),[r,i]=E.useState(Date.now());E.useEffect(()=>{const e=setInterval(()=>{i(Date.now())},100);return()=>clearInterval(e)},[]);const o=E.useRef(null);if(E.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[e.pendingAction?.nopeChain?.length]),e.gamePhase!==M.NOPE_WINDOW||!e.pendingAction)return null;const{action:c,timerStart:d,nopeCount:x,nopeChain:h,entryTimestamp:u}=e.pendingAction,g=c.targetPlayerId,f=g?e.players.find(e=>e.id===g):null,N=u?e.discardHistory.find(e=>e.timestamp===u):null,v=Math.max(0,Y-(r-d)),j=t?.hand.filter(e=>e&&e[0]===H.NOPE).length||0,w="ALLOW"===e.pendingAction.responses[s.userId],y=x%2==1,C=h[h.length-1].playerId,k=s.userId===C||0===j,I=r-d,P=x>0&&I<2e3,A=Math.max(0,Math.ceil((2e3-I)/1e3));return T.createPortal(a.jsx("div",{className:"fixed inset-0 z-70 flex items-center justify-center bg-black/70 backdrop-blur-xl p-2",children:a.jsxs("div",{className:"bg-slate-950 border-4 border-slate-800 rounded-[2.5rem] p-4 shadow-[0_0_50px_rgba(0,0,0,0.5)] max-w-md w-full flex flex-col items-center gap-4 animate-in zoom-in duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 blur-[100px] opacity-20 rounded-full "+(y?"bg-red-500":"bg-green-500")}),a.jsxs("div",{className:"relative",children:[a.jsxs("svg",{className:"w-28 h-28 transform -rotate-90",children:[a.jsx("circle",{cx:"56",cy:"56",r:"52",fill:"transparent",stroke:"currentColor",strokeWidth:"4",className:"text-slate-800"}),a.jsx("circle",{cx:"56",cy:"56",r:"52",fill:"transparent",stroke:"currentColor",strokeWidth:"4",strokeDasharray:326.7,strokeDashoffset:326.7*(1-v/Y),strokeLinecap:"round",className:"transition-all duration-100 "+(v<3e3?"text-red-500":"text-yellow-400")})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl font-black tabular-nums "+(v<3e3?"text-red-500 animate-pulse":"text-white"),children:(v/1e3).toFixed(0)})})]}),a.jsx("div",{className:"text-center w-full",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full border mb-4 shadow-lg "+(y?"bg-red-600/20 text-red-400 border-red-500/30":"bg-green-600/20 text-green-400 border-green-500/30"),children:[y?a.jsx(L,{className:"w-5 h-5 font-black"}):a.jsx(m,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-black uppercase tracking-[0.2em]",children:n(y?{en:"BLOCKED!",vi:"B·ªä CH·∫∂N!"}:{en:"PROGRESSING...",vi:"S·∫ÆP TH·ª∞C THI..."})})]})}),a.jsx("div",{className:"w-full flex flex-col gap-2 max-h-60 overflow-y-auto overflow-x-hidden custom-scrollbar pr-1 p-2",ref:o,children:h.map((s,t)=>{const l=e.players.find(e=>e.id===s.playerId),r=s.cardType,i=0===t,o=V[r],c=o.isCombo&&N?.cards.length?Q[N.cards.length]?.description:o.description;return a.jsxs("div",{className:"flex flex-wrap gap-2 p-3 rounded-2xl transition-all border "+(t===h.length-1?"bg-slate-800/80 border-slate-600 shadow-lg z-10 scale-[1.02]":"bg-slate-900/30 border-slate-800/50 opacity-60"),children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-wrap",children:[a.jsx("span",{className:"text-sm font-bold text-white truncate max-w-[100px] @md:max-w-none",children:l?.username||"Unknown"}),i&&f&&a.jsxs(a.Fragment,{children:[a.jsx(B,{className:"w-4 h-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-sm font-bold text-blue-400 truncate max-w-[100px] @md:max-w-none",children:f.username})]})]}),a.jsx("span",{className:"text-xs text-slate-500 font-black tracking-tighter my-1",children:n(c)})]}),t===h.length-1&&a.jsx("div",{className:"absolute top-2 right-2 shrink-0 w-2 h-2 rounded-full bg-yellow-400 animate-ping"})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:i&&N&&N.cards.length>0?N.cards.map((e,s)=>a.jsx("div",{className:"shrink-0",children:Z(e[0])},s)):a.jsx("div",{className:"shrink-0",children:Z(r)})})]},t)})}),k?a.jsx("div",{className:"w-full h-24 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce"})]}),a.jsx("span",{className:"text-md text-slate-400 animate-pulse",children:n({en:"Waiting for other players to react...",vi:"Ch·ªù ng∆∞·ªùi ch∆°i kh√°c ph·∫£n ·ª©ng..."})})]})}):a.jsxs("div",{className:"flex flex-col w-full gap-4 pt-2",children:[a.jsx("button",{onClick:()=>s.requestRespondNope("NOPE"),disabled:P||e.players.find(e=>e.id===s.userId)?.isExploded,className:`\n                group relative w-full py-5 rounded-2xl font-black text-2xl flex items-center justify-center gap-3 transition-all\n                ${P?"bg-slate-700 text-slate-400 cursor-not-allowed":y?"bg-green-600 hover:bg-green-500 text-white shadow-[0_10px_30px_rgba(34,197,94,0.4)] hover:-translate-y-1 active:scale-95":"bg-red-600 hover:bg-red-500 text-white shadow-[0_10px_30px_rgba(220,38,38,0.4)] hover:-translate-y-1 active:scale-95"}\n              `,children:P?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 border-4 border-slate-500 border-t-white rounded-full animate-spin"}),a.jsxs("div",{className:"flex flex-col items-start leading-none",children:[a.jsx("span",{className:"uppercase tracking-widest leading-none",children:n({en:"WAIT...",vi:"CH·ªú..."})}),a.jsxs("span",{className:"text-xs opacity-70 mt-1",children:[A,"s"]})]})]}):y?a.jsxs(a.Fragment,{children:[a.jsx(b,{className:"w-8 h-8 animate-wiggle"}),a.jsxs("div",{className:"flex flex-col items-start leading-none",children:[a.jsx("span",{className:"uppercase tracking-widest leading-none",children:n({en:"RE-NOPE!",vi:"G·ª† CH·∫∂N!"})}),a.jsxs("span",{className:"text-xs opacity-70 mt-1",children:[n({en:"Cancel the block",vi:"Hu·ª∑ l·ªánh ch·∫∑n"})," (",n({en:j+" cards left",vi:"c√≤n "+j+" l√°"}),")"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"w-8 h-8 animate-wiggle"}),a.jsxs("div",{className:"flex flex-col items-start leading-none",children:[a.jsx("span",{className:"uppercase tracking-widest leading-none",children:n({en:"NOPE!",vi:"CH·∫∂N!"})}),a.jsxs("span",{className:"text-xs opacity-70 mt-1",children:[n({en:"USE 1 CARD",vi:"D√ôNG 1 L√Å"})," (",n({en:j+" left",vi:"c√≤n "+j}),")"]})]})]})}),a.jsx("button",{onClick:()=>s.requestRespondNope("ALLOW"),disabled:w||e.players.find(e=>e.id===s.userId)?.isExploded,className:`\n                w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all\n                ${w?"bg-slate-900 text-green-500/50 cursor-default border border-green-500/20":"bg-white/5 hover:bg-white/10 text-slate-300 border border-white/10"}\n              `,children:w?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1 mr-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-bounce"})]}),n({en:"READY",vi:"XONG"})]}):a.jsxs(a.Fragment,{children:[a.jsx(G,{className:"w-5 h-5"}),n({en:"SKIP / ALLOW",vi:"B·ªé QUA / ƒê·ªíNG √ù"})]})})]})]})}),document.body)},Z=e=>{const s=V[e],t=s.icon;return a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-md mx-1 align-baseline bg-slate-700",children:[a.jsx("span",{className:`${s.bgColor} ${s.borderColor} p-1.5 rounded-full`,children:a.jsx(t,{className:`w-4 h-4 ${s.iconColor}`})}),a.jsx("span",{className:`text-xs font-black uppercase tracking-tighter ${s.textColor}`,children:r(s.name)})]})};function ee({game:r}){const i=r,{confirm:o}=e(),{currentRoom:d}=s(),[h]=W(i),[g,N]=E.useState(!1),[v,j]=E.useState(!1),{username:w}=t(),{ti:y,ts:Y}=l(),[ee,se]=E.useState([]),[te,le]=E.useState(null),[ne,ae]=E.useState(null),[re,ie]=E.useState(null),[oe,ce]=E.useState([]),[de,xe]=E.useState(null),[he,me]=E.useState(null),[ue,be]=E.useState(null),[ge,pe]=E.useState(null),[fe,Ne]=E.useState(!1),[ve,je]=E.useState(!0),[we,ye]=E.useState([]),Ce=E.useRef(0),Ee=E.useRef(null),Te=E.useRef(new Set),ke=E.useRef(null),Ie=h.players.filter(e=>e.id),[Pe,Ae]=E.useState(null),De=E.useRef(Array(5).fill(null)),Re=E.useRef(Array(5).fill(null)),Se=E.useRef(null),Oe=E.useRef(null),Le=E.useRef(null),$e=E.useRef(null),Ue=E.useRef(h.discardPile.length),Fe=E.useRef(h.players.map(e=>e.hand.length)),Ge=E.useRef(h.currentTurnIndex),Be=h.players.findIndex(e=>e.id===i.userId),_e=Be>=0?h.players[Be]:null,He=h.currentTurnIndex===Be,Me=i.isHost,Ke=E.useMemo(()=>d?.players.some(e=>e.id===i.userId)??!1,[d,i]);X(h.currentTurnIndex,(e,s)=>{h.gamePhase!==M.WAITING&&(null!==e&&n.playTurnSwitch(He),console.log(e,s))}),E.useEffect(()=>{if(h.lastAction&&!h.lastAction.isNoped&&h.lastAction.cardType===H.SEE_THE_FUTURE&&h.lastAction.playerId===i.userId&&le(h.drawPile.slice(-3).reverse()),h.lastAction){const e=h.lastAction.timestamp||Date.now();if(ke.current===e)return;ke.current=e;const{action:s,playerId:t,isNoped:l,cardType:n}=h.lastAction,a=h.players.find(e=>e.id===t),r=a?.username||"Unknown",i=s.targetPlayerId?h.players.find(e=>e.id===s.targetPlayerId):null,o=i?.username,c=n?V[n]:null;let d=c?Y(c.name):"",x=c?Y(c.description):"",u=c?.icon||m;if("PLAY_COMBO"===s.type){const e=s.cardIndices.length;d=Y(2===e?{en:"Pair Combo",vi:"Combo ƒê√¥i"}:{en:"Triplet Combo",vi:"Combo Ba"}),x=Y(2===e?{en:"steal 1 random card",vi:"c∆∞·ªõp 1 l√° b√†i ng·∫´u nhi√™n"}:{en:"demand a specific card",vi:"y√™u c·∫ßu 1 l√° b√†i c·ª• th·ªÉ"}),u=k}else if("DRAW_CARD"===s.type)d=Y({en:"Draw",vi:"R√∫t b√†i"}),u=D;else if("DEFUSE"===s.type){const e=V[H.DEFUSE];d=Y(e.name),u=e.icon}else if("REORDER_FUTURE"===s.type){const e=V[H.ALTER_THE_FUTURE_3];d=Y(e.name),u=e.icon}else if("EXPLODE"===s.type){const e=V[H.EXPLODING_KITTEN],s=++Ce.current,t=Y({en:`üí• ${r} EXPLODED!`,vi:`üí• ${r} ƒë√£ N·ªî TUNG!`});return void ye(l=>[...l,{id:s,message:t,type:"error",icon:e.icon}])}const b=++Ce.current;let g;g=l?Y({en:`${r}'s ${d} was BLOCKED!`,vi:`${d} c·ªßa ${r} ƒë√£ b·ªã CH·∫∂N!`}):"DRAW_CARD"===s.type?Y({en:`${r} drew a card`,vi:`${r} ƒë√£ r√∫t m·ªôt l√° b√†i`}):Y(o?{en:`${r} used ${d} on ${o} (${x})`,vi:`${r} d√πng ${d} l√™n ${o} (${x})`}:{en:`${r} used ${d} (${x})`,vi:`${r} d√πng ${d} (${x})`}),ye(e=>[...e,{id:b,message:g,type:l?"error":"success",icon:u}])}},[h.lastAction,i.userId]),E.useEffect(()=>{h.privateLogs&&0!==h.privateLogs.length&&h.privateLogs.forEach(e=>{if(Te.current.has(e.id))return;if(!e.visibleTo.includes(i.userId))return;Te.current.add(e.id);const s=h.players.find(s=>s.id===e.fromPlayerId),t=h.players.find(s=>s.id===e.toPlayerId),l=V[e.stolenCard[0]],n=Y(l.name),a=e.toPlayerId===i.userId,r=Y(a?{en:`üîí You stole ${n} from ${s?.username}`,vi:`üîí B·∫°n ƒë√£ c∆∞·ªõp ${n} t·ª´ ${s?.username}`}:{en:`üîí ${t?.username} stole your ${n}`,vi:`üîí ${t?.username} ƒë√£ c∆∞·ªõp ${n} c·ªßa b·∫°n`}),o=++Ce.current;ye(e=>[...e,{id:o,message:r,type:"private",icon:l.icon}])})},[h.privateLogs,i.userId,Y]),E.useEffect(()=>{Ee.current&&we.length>0&&(Ee.current.scrollTop=Ee.current.scrollHeight)},[we]);const Ye=E.useMemo(()=>{if(!Pe||!Le.current)return null;const{fromPlayerIndex:e,direction:s,sourcePlayerIndex:t}=Pe;let l=null,n=null;const a=e=>0===e&&q($e.current)?$e.current:q(De.current?.[e])?De.current?.[e]:q(Re.current?.[e])?Re.current?.[e]:(0===e?$e.current:De.current?.[e]||Re.current?.[e])||null;return"toDiscard"===s?(l=a(e),n=Oe.current):"toHand"===s?(l=Se.current,n=a(e)):"playerToPlayer"===s&&void 0!==t&&(l=a(t),n=a(e)),l&&n?{sourceRect:l.getBoundingClientRect(),targetRect:n.getBoundingClientRect()}:null},[Pe]),We=E.useMemo(()=>{const e=[],s=Be>=0?Be:0;for(let t=0;t<5;t++){const l=(s+t)%5;e.push({slot:h.players[l],actualIndex:l})}return e},[h.players,Be]);E.useEffect(()=>i.onUpdate(e=>{let s=null;if(e.gamePhase===M.WAITING&&ye([]),e.discardPile.length>Ue.current&&e.gamePhase!==M.WAITING){const t=e.discardPile[e.discardPile.length-1];let l=e.lastAction?.playerId;if(!l){const s=e.discardHistory[e.discardHistory.length-1];s&&(l=s.playerId)}let n=-1;if(l){const s=e.players.findIndex(e=>e.id===l);-1!==s&&(n=s)}-1===n&&(n=Ge.current);const a=We.findIndex(e=>e.actualIndex===n);s={card:t,fromPlayerIndex:a,direction:"toDiscard"},je(!1)}e.players.forEach((t,l)=>{const n=Fe.current[l]||0,a=t.hand.length;if(a>n&&(e.gamePhase===M.PLAYING||e.gamePhase===M.DEFUSING)){const n=l===Be,r=We.findIndex(e=>e.actualIndex===l);let i;{const s=e.players.findIndex((e,s)=>{const t=Fe.current[s]||0;return e.hand.length<t});-1!==s&&s!==l&&(i=We.findIndex(e=>e.actualIndex===s))}s={card:n?t.hand[a-1]:void 0,fromPlayerIndex:r,sourcePlayerIndex:i,direction:void 0!==i?"playerToPlayer":"toHand",hidden:!n}}}),s&&Ae(s),Ue.current=e.discardPile.length,Fe.current=e.players.map(e=>e.hand.length),Ge.current=e.currentTurnIndex}),[i,Be,We]);const Xe=(e,s=!1,t,l="medium",n=!1)=>{if(!e){const e={small:"w-12 h-16",medium:"w-20 h-28",large:"w-28 h-40"};return a.jsx("div",{className:`${e[l]} rounded-lg border-2 border-slate-700 bg-slate-800 flex items-center justify-center p-2 shadow-lg`,children:a.jsx("div",{className:"w-full h-full rounded bg-slate-700/50 flex items-center justify-center",children:a.jsx(C,{className:"w-1/2 h-1/2 text-slate-600 opacity-20"})})})}const[r]=e,i=V[r];if(!i)return null;const o=i.icon;return a.jsxs("div",{onClick:t,className:`${{small:"w-12 h-16 text-[10px]",medium:"w-20 h-28 text-xs",large:"w-28 h-40 text-sm"}[l]} relative rounded-lg border-2 ${i.borderColor} ${i.bgColor} flex flex-col items-center justify-center p-2 shadow-lg transition-all select-none ${s?"cursor-pointer hover:-translate-y-2 hover:shadow-xl":""}`,children:[n&&a.jsx("div",{className:"absolute top-1 left-1 opacity-80",children:a.jsx(o,{className:`${"small"===l?"w-3 h-3":"w-5 h-5"} ${i.iconColor}`})}),a.jsx(o,{className:`${"small"===l?"w-4 h-4":"w-8 h-8"} ${i.iconColor} mb-1`}),a.jsx("span",{className:`text-center font-bold ${i.textColor} ${"small"===l?"text-[8px]":"text-[10px] @md:text-xs"} leading-tight`,children:y(i.name)}),"large"===l&&a.jsx("span",{className:`text-xs text-center mt-1 opacity-80 ${i.textColor}`,children:y(i.description||{en:"",vi:""})})]})},ze=()=>{if(!_e)return null;const e=ee.length,s=ee.map(e=>_e.hand[e]).filter(e=>!!e);if(0===s.length)return null;const t=s.every(e=>e[0]===s[0][0]),l=s[0][0];let n=!1,r="";return 1===e?l===H.NOPE?r=y({en:"CANNOT PLAY ALONE",vi:"CH·ªà D√ôNG ƒê·ªÇ CH·∫∂N"}):l===H.DEFUSE?r=y({en:"DEFUSE ONLY ON BOMB",vi:"CH·ªà D√ôNG KHI C√ì BOM"}):l>=H.CAT_1&&l<=H.CAT_5?r=y({en:"COMBO ONLY",vi:"C·∫¶N COMBO"}):n=!0:2===e||3===e?t?n=!0:r=y({en:"MUST BE SAME TYPE",vi:"PH·∫¢I C√ôNG LO·∫†I"}):r=y({en:"INVALID SELECTION",vi:"CH·ªåN KH√îNG H·ª¢P L·ªÜ"}),n&&!He&&(n=!1,r=y({en:"WAIT YOUR TURN",vi:"ƒê·ª¢I T·ªöI L∆Ø·ª¢T"})),a.jsxs("button",{onClick:()=>n&&(()=>{if(0!==ee.length){if(1===ee.length){const e=ee[0],s=_e.hand[e];s[0]===H.FAVOR?ae(e):s[0]===H.TARGETED_ATTACK?ie(e):i.requestPlayCard(e)}else if(2===ee.length||3===ee.length){const e=ee.map(e=>_e.hand[e]);e.every(s=>s[0]===e[0][0])&&(me(ee),be("target"))}se([])}})(),disabled:!n,className:`\n                    font-black py-2 px-6 rounded-full shadow-2xl border-2 flex items-center gap-2 transition-all w-max max-w-[90vw]\n                    ${n?"bg-green-600 hover:bg-green-500 text-white border-white animate-in zoom-in-50 duration-200":"bg-slate-700/80 text-slate-400 cursor-not-allowed border-slate-600 backdrop-blur-md"}\n                  `,children:[n?a.jsx(P,{className:"w-5 h-5 fill-current"}):a.jsx(L,{className:"w-5 h-5"}),a.jsx("span",{className:"uppercase",children:n?y(e>1?{en:`PLAY COMBO (${e})`,vi:`D√ôNG COMBO (${e})`}:{en:"PLAY CARD",vi:"ƒê√ÅNH B√ÄI"}):r})]})},qe=(e,s)=>{const t=We[e],l=t.slot,n=h.currentTurnIndex===t.actualIndex,r=null===l.id;return a.jsx("div",{ref:t=>{s&&(s.current[e]=t)},className:`\n          p-2 @md:p-3 min-w-[100px] @md:min-w-[120px] rounded-xl transition-all border-2\n          ${n&&h.gamePhase===M.PLAYING?"border-primary-600 bg-primary-500/10 animate-bounce":"border-slate-700 bg-slate-800/50"}\n          ${r?"border-dashed":""}\n        `,children:r?a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-slate-500 text-[10px] text-center uppercase font-medium",children:["Slot ",t.actualIndex+1]}),a.jsxs("div",{className:"flex gap-1 mt-1",children:[Me&&h.gamePhase===M.WAITING&&a.jsx("button",{onClick:()=>i.requestAddBot(t.actualIndex),className:"flex-1 p-1 bg-slate-700 hover:bg-slate-600 rounded text-xs flex items-center justify-center",title:"Add Bot",children:a.jsx(R,{className:"w-5 h-5"})}),!Me&&h.gamePhase===M.WAITING&&Ke&&!_e&&a.jsxs("button",{onClick:()=>i.requestJoinSlot(t.actualIndex,w),className:"flex-1 p-1 bg-slate-700 hover:bg-slate-600 rounded text-[10px] flex items-center justify-center gap-1",children:[a.jsx(S,{className:"w-4 h-4"}),"Join"]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[l.isBot&&a.jsx(R,{className:"w-5 h-5 text-blue-400"}),l.isHost&&a.jsx(O,{className:"w-5 h-5 text-yellow-400"}),a.jsx("span",{className:"text-xs font-medium "+(l.isExploded?"text-red-400":"text-slate-200"),children:l.username}),Me&&h.gamePhase===M.WAITING&&a.jsx("button",{onClick:()=>i.requestRemovePlayer(t.actualIndex),className:"p-0.5 hover:bg-slate-700 rounded ml-1",children:a.jsx(L,{className:"w-5 h-5 text-red-400"})})]}),h.gamePhase!==M.WAITING&&a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("div",{className:"flex items-center gap-2",children:l.isExploded&&h.gamePhase!==M.ENDED?a.jsx(C,{className:"w-4 h-4 text-red-500 animate-pulse"}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(k,{className:"w-3 h-3 text-slate-400"}),a.jsx("span",{className:"text-xs text-slate-400 font-bold",children:l.hand.length})]})}),h.gamePhase===M.ENDED&&l.hand.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 mt-1 max-w-[100px]",children:l.hand.map((e,s)=>a.jsx("div",{children:Ve(e[0])},s))}),n&&h.attackStack>1&&a.jsxs("div",{className:"flex items-center gap-1 bg-orange-500/20 text-yellow-400 px-2 py-0.5 rounded-full border border-orange-500/30 origin-top",children:[a.jsx(x,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-bold uppercase whitespace-nowrap",children:[h.attackStack," ",y({en:"TURNS",vi:"L∆Ø·ª¢T"})]})]})]})]})},t.actualIndex)},Ve=e=>{const s=V[e],t=s.icon;return a.jsx("div",{className:`w-5 h-7 rounded-[3px] border border-slate-700/50 flex items-center justify-center ${s.bgColor} shadow-sm overflow-hidden`,title:Y(s.name),children:a.jsx(t,{className:`w-3.5 h-3.5 ${s.iconColor}`})})},[Qe,Je]=E.useMemo(()=>{if(h.players.filter(e=>null!==e.id&&!e.isExploded).length<=1)return[null,null];const e=h.players.findIndex(e=>e.id===i.userId);if(-1===e)return[null,null];const s=h.players.length;let t=e;do{t=(t-h.direction+s)%s}while(null===h.players[t].id||h.players[t].isExploded);let l=e;do{l=(l+h.direction+s)%s}while(null===h.players[l].id||h.players[l].isExploded);return[h.players[t],h.players[l]]},[h.players,h.direction,i.userId]),Ze=()=>h.gamePhase!==M.WAITING&&h.gamePhase!==M.ENDED&&Ke?a.jsxs("div",{className:"flex items-center justify-center gap-3 text-xs text-slate-500 mt-2 mb-2 py-1 px-2 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-orange-400",children:"‚Üê"}),a.jsxs("div",{className:"flex flex-col items-start",children:[y({en:"Prev",vi:"Tr∆∞·ªõc"}),a.jsx("span",{className:"text-slate-400",children:Qe?.username})]})]}),a.jsx("span",{className:"text-slate-600",children:"‚Ä¢"}),a.jsx("span",{className:"text-slate-400 font-medium uppercase tracking-wider",children:y({en:"You",vi:"B·∫°n"})}),a.jsx("span",{className:"text-slate-600",children:"‚Ä¢"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"flex flex-col items-end",children:[y({en:"Next",vi:"Sau"}),a.jsx("span",{className:"text-slate-400",children:Je?.username})]}),a.jsx("span",{className:"text-green-400",children:"‚Üí"})]})]}):null,[es,ss]=E.useState(i.getDeckConfig());return a.jsxs("div",{ref:Le,className:"relative flex flex-col h-full p-2 @md:p-4 gap-2 @md:gap-4 overflow-hidden bg-slate-950 rounded-xl pb-16!",children:[a.jsxs("div",{className:"flex justify-center gap-2 @md:gap-8",children:[a.jsxs("div",{className:"flex @md:hidden flex-wrap justify-center gap-2 max-w-full px-2",children:[qe(1,Re),qe(2,Re),qe(3,Re),qe(4,Re)]}),a.jsxs("div",{className:"hidden @md:flex gap-8",children:[qe(2,De),qe(3,De)]})]}),a.jsxs("div",{className:"flex-1 flex items-center justify-between gap-4",children:[a.jsx("div",{className:"hidden @md:block",children:qe(1,De)}),a.jsx("div",{className:"flex-1 flex flex-col items-center gap-6 justify-center",children:a.jsxs("div",{className:"flex gap-4 @md:gap-8 items-center justify-center",children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 relative",children:[a.jsxs("button",{ref:Se,onClick:()=>{He&&h.gamePhase===M.PLAYING&&i.requestDrawCard()},disabled:!He||h.gamePhase!==M.PLAYING,className:"relative w-24 h-32 @md:w-32 @md:h-44 rounded-xl bg-linear-to-br from-slate-800 to-slate-900 border-2 border-slate-700 shadow-2xl flex flex-col items-center justify-center transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:hover:scale-100 cursor-pointer",children:[a.jsx("div",{className:"bg-red-600 p-1.5 @md:p-2 rounded-lg mb-2",children:a.jsx(k,{className:"w-6 h-6 @md:w-8 @md:h-8 text-white"})}),a.jsx("span",{className:"text-[10px] @md:text-xs font-bold text-slate-400 uppercase tracking-widest",children:y({en:"DRAW",vi:"R√öT B√ÄI"})}),a.jsx("span",{className:"absolute -top-2 -right-2 text-white text-[10px] @md:text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold bg-slate-600",children:h.drawPile.length})]}),h.gamePhase!==M.WAITING&&a.jsxs("div",{className:"absolute bottom-2 text-xs text-center text-red-500 font-bold bg-slate-900/80 px-1.5 py-0.5 rounded-full border border-red-500/20 pointer-events-none",children:[a.jsx(C,{className:"w-3 h-3 inline-block mr-1"}),(()=>{const e=h.drawPile.filter(e=>e[0]===H.EXPLODING_KITTEN).length,s=h.drawPile.length;return`${e}/${s} (${s>0?Math.round(e/s*100):0}%)`})()]})]}),a.jsxs("div",{ref:Oe,onClick:()=>Ne(!0),className:"relative w-24 h-32 @md:w-32 @md:h-44 rounded-xl bg-slate-900/50 border-2 border-dashed border-slate-700 flex items-center justify-center cursor-pointer hover:border-slate-500 transition-colors group",children:[a.jsx("div",{className:"absolute inset-x-0 -bottom-4 flex justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest whitespace-nowrap",children:y({en:"CLICK TO VIEW",vi:"B·∫§M ƒê·ªÇ XEM"})})}),h.discardPile.length>0?a.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:(ve?h.discardPile:h.discardPile.slice(0,-1)).slice(-3).map((e,s)=>a.jsx("div",{className:"absolute transition-all",style:{transform:`rotate(${8*(s-1)}deg)`},children:Xe(e,!1,void 0,"medium")},`${e[1]}-${s}`))}):a.jsx("span",{className:"text-[10px] text-center text-slate-600 font-bold uppercase tracking-widest",children:y({en:"DISCARD",vi:"B√ÄI ƒê√É ƒê√ÅNH"})})]})]})}),a.jsx("div",{className:"hidden @md:block",children:qe(4,De)})]}),a.jsx("div",{ref:Ee,className:"max-h-20 @md:max-h-24 overflow-y-auto overflow-x-hidden custom-scrollbar w-full flex items-center flex-col",children:we.map((e,s)=>{const t=s===we.length-1;return a.jsxs("div",{className:`flex items-center justify-center gap-1.5 px-2 py-1 rounded-lg text-center ${"private"===e.type?"text-purple-300 bg-purple-900/30":"success"===e.type?"text-slate-300":"text-red-400"}\n            ${t?"animate-bounce":"opacity-50"}`,children:[a.jsx(e.icon,{className:"w-4 h-4 shrink-0 "+("private"===e.type?"text-purple-400":"success"===e.type?"text-green-500":"text-red-500")}),a.jsx("span",{className:"text-xs font-medium",children:e.message})]},e.id)})}),_e?.isExploded&&h.gamePhase!==M.ENDED&&a.jsx("div",{className:"w-full flex flex-col items-center gap-2 p-4 bg-red-950/40 rounded-2xl border border-red-500/30 animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(C,{className:"w-8 h-8 text-red-500 animate-pulse"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase italic leading-none",children:y({en:"YOU EXPLODED!",vi:"B·∫†N ƒê√É N·ªî TUNG!"})}),a.jsx("p",{className:"text-sm text-red-400 font-bold",children:y({en:"Better luck next time!",vi:"Ch√∫c b·∫°n may m·∫Øn l·∫ßn sau!"})})]})]})}),h.gamePhase===M.ENDED&&a.jsxs("div",{className:"w-full flex flex-col items-center gap-4 p-4 bg-slate-950/40 rounded-2xl border border-yellow-500/30 shadow-[0_0_30px_rgba(234,179,8,0.1)] animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"relative",children:a.jsx(m,{className:"w-12 h-12 text-yellow-400 animate-spin-slow"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"text-3xl font-black text-yellow-500 tracking-[0.2em] uppercase leading-none block mb-1",children:y({en:"VICTORIOUS!",vi:"CHI·∫æN TH·∫ÆNG!"})}),a.jsx("h2",{className:"text-2xl font-black text-white italic truncate max-w-[200px]",children:h.players.find(e=>e.id===h.winner)?.username})]})]}),a.jsx("div",{className:"w-full max-w-xs",children:i.isHost?a.jsxs("button",{onClick:()=>i.requestNewGame(),className:"w-full py-3 bg-yellow-400 hover:bg-yellow-300 text-slate-950 rounded-xl font-black text-lg shadow-[0_5px_15px_rgba(250,204,21,0.2)] transition-all active:scale-95 cursor-pointer flex items-center justify-center gap-2",children:[a.jsx(b,{className:"w-5 h-5"}),y({en:"PLAY AGAIN",vi:"CH∆†I L·∫†I"})]}):a.jsxs("div",{className:"py-3 px-4 bg-slate-900/50 border border-slate-800 rounded-xl flex items-center justify-center gap-3",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}),a.jsx("span",{className:"text-xs text-slate-400 font-bold",children:y({en:"Waiting for host..",vi:"ƒêang ch·ªù ch·ªß ph√≤ng.."})})]})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 @md:gap-4 bg-slate-900/80 backdrop-blur-md rounded-3xl p-3 @md:p-4 border-t border-slate-800 shadow-2xl z-10",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"text-xs text-center font-bold text-slate-400 bg-slate-800/50 px-4 py-1.5 rounded-full border border-slate-700/50",children:h.gamePhase===M.ENDED?y({en:"Game Over!",vi:"Tr√≤ ch∆°i k·∫øt th√∫c!"}):_e?.isExploded?y({en:"You exploded! You are out of the game.",vi:"B·∫°n ƒë√£ N·ªï tung! B·∫°n ƒë√£ b·ªã lo·∫°i kh·ªèi tr√≤ ch∆°i."}):He?h.gamePhase===M.PLAYING?ee.length>0?y({en:"Click 'PLAY' to use selected cards, or click to SELECT MORE.",vi:"B·∫•m 'ƒê√ÅNH' ƒë·ªÉ d√πng c√°c l√° ƒë√£ ch·ªçn, ho·∫∑c CH·ªåN TH√äM."}):y({en:"Your turn! PLAY cards, or DRAW to end your turn.",vi:"T·ªõi l∆∞·ª£t b·∫°n! ƒê√ÅNH B√ÄI, ho·∫∑c R√öT B√ÄI ƒë·ªÉ k·∫øt th√∫c l∆∞·ª£t."}):h.gamePhase===M.DEFUSING?y({en:"QUICK! Use a DEFUSE card or you'll explode!",vi:"NHANH L√äN! D√πng l√° G·ª† BOM n·∫øu kh√¥ng b·∫°n s·∫Ω n·ªï tung!"}):h.gamePhase===M.INSERTING_KITTEN?y({en:"Choose where to put the kitten back in the deck.",vi:"Ch·ªçn v·ªã tr√≠ ƒë·ªÉ ƒë·∫∑t l·∫°i m√®o n·ªï v√†o x·∫•p b√†i."}):h.gamePhase===M.NOPE_WINDOW?y({en:"Someone played a card! Can anyone NOPE it?",vi:"C√≥ ng∆∞·ªùi v·ª´a ƒë√°nh b√†i! C√≥ ai mu·ªën KH√îNG! (NOPE) kh√¥ng?"}):h.gamePhase===M.ALTER_THE_FUTURE?y({en:"Reorder the cards as you wish, then confirm.",vi:"S·∫Øp x·∫øp l·∫°i c√°c l√° b√†i theo √Ω mu·ªën, sau ƒë√≥ x√°c nh·∫≠n."}):"":y({en:`Waiting for ${h.players[h.currentTurnIndex]?.username}...`,vi:`ƒêang ƒë·ª£i ${h.players[h.currentTurnIndex]?.username}...`})}),Ze()]}),a.jsx("div",{className:"flex items-center gap-4",children:Be>=0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden @md:block",children:qe(0,De)}),a.jsx("div",{className:"flex @md:hidden",children:qe(0,Re)})]})}),h.gamePhase!==M.WAITING&&h.gamePhase!==M.ENDED&&(()=>{if(!_e)return null;const e=[..._e?.hand||[]].map((e,s)=>({card:e,originalIndex:s})).sort((e,s)=>e.card?s.card?e.card[0]!==s.card[0]?e.card[0]-s.card[0]:e.card[1]-s.card[1]:-1:1),s=$e.current?.offsetWidth||400,t=_e.hand.length,l=25*t+80,n=.9*s,r=Math.min(1,n/l),o=Math.max(15,Math.min(35,n/t));return a.jsxs("div",{className:"w-full relative mt-4",children:[a.jsx("div",{ref:$e,className:"flex justify-center h-32 @md:h-44 relative",children:e.map(({card:s,originalIndex:l},n)=>{if(!s)return console.error("Card is null",l,n,e),null;const c=ee.includes(l),d=h.gamePhase===M.PLAYING||h.gamePhase===M.DEFUSING&&s[0]===H.DEFUSE,x=n-(t-1)/2,m=2*x,u=x*o;return a.jsx("div",{className:"absolute transition-all duration-300 ease-out",style:{transform:`translateX(${u}px) rotate(${m}deg) translateY(${c?-30:0}px) scale(${r})`,zIndex:c?30:n+10},children:Xe(s,d,()=>{d&&(e=>{if(!_e)return;const s=_e.hand[e];if(s)if(h.gamePhase===M.PLAYING)if(ee.includes(e))se(ee.filter(s=>s!==e));else if(s&&s[0]>=H.CAT_1&&s[0]<=H.CAT_5){const e=_e.hand.map((e,t)=>e&&e[0]===s[0]?t:-1).filter(e=>-1!==e),t=Array.from(new Set([...ee,...e]));se(t)}else se([...ee,e]);else h.gamePhase===M.DEFUSING&&s[0]===H.DEFUSE&&(i.requestDefuse(),se([]))})(l)},c?"large":"medium",t>1&&!c)},`${s[1]}-${n}`)})}),ee.length>0&&a.jsx("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 z-50",children:ze()})]})})(),h.gamePhase===M.WAITING&&Me&&a.jsxs("div",{className:"flex gap-2 flex-col items-center",children:[a.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-3 py-2 bg-green-700 hover:bg-green-600 text-white rounded-full shadow-xl transition-all hover:scale-105 border border-slate-600 cursor-pointer",children:[a.jsx(I,{className:"w-5 h-5"}),y({en:"Configure Deck",vi:"C·∫•u h√¨nh b·ªô b√†i"})]}),a.jsxs("button",{onClick:()=>i.requestStartGame(),disabled:Ie.length<2,className:"px-8 py-3 bg-green-600 hover:bg-green-500 text-white rounded-full font-bold flex items-center gap-2 shadow-xl transition-all hover:scale-105 disabled:bg-slate-700 disabled:cursor-not-allowed",children:[a.jsx(P,{className:"w-5 h-5"}),Ie.length<2?y({en:"NEED 2+ PLAYERS/BOTS",vi:"C·∫¶N 2+ NG∆Ø·ªúI CH∆†I/BOT"}):y({en:"START GAME",vi:"B·∫ÆT ƒê·∫¶U"})]})]}),Me&&h.gamePhase!==M.WAITING&&h.gamePhase!==M.ENDED&&a.jsxs("button",{onClick:async()=>{await o(Y({en:"Current game will be lost. Continue?",vi:"Ti·∫øn tr√¨nh hi·ªán t·∫°i s·∫Ω b·ªã m·∫•t. Ti·∫øp t·ª•c?"}),Y({vi:"Ch∆°i l·∫°i?",en:"New game?"}))&&i.requestNewGame()},className:"px-4 py-1 text-sm bg-slate-700 hover:bg-slate-600 text-slate-400 rounded-full flex items-center gap-2 transition-all hover:scale-105 cursor-pointer",children:[a.jsx(b,{className:"w-4 h-4"}),y({en:"New Game",vi:"Ch∆°i l·∫°i"})]})]}),h.gamePhase===M.DEFUSING&&He?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border-4 border-red-500 rounded-2xl p-8 shadow-2xl max-w-md w-full animate-pulse",children:[a.jsx("h3",{className:"text-3xl font-black text-red-500 mb-6 text-center tracking-widest",children:y({en:"EXPLODING!",vi:"M√àO N·ªî!"})}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(C,{className:"w-24 h-24 text-red-500 animate-bounce"})}),a.jsx("p",{className:"text-white text-center mb-8 font-bold",children:y({en:"You drew an Exploding Kitten! Use a Defuse now!",vi:"B·∫°n ƒë√£ b·ªëc ph·∫£i M√®o N·ªï! H√£y d√πng G·ª° Bom ngay!"})}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>i.requestDefuse(),className:"px-12 py-4 bg-green-600 hover:bg-green-500 text-white rounded-full font-black text-xl shadow-lg transform hover:scale-105 transition-all",children:y({en:"DEFUSE!",vi:"G·ª† BOM!"})})})]})}):null,(()=>{if(h.gamePhase!==M.INSERTING_KITTEN&&h.gamePhase!==M.BURYING_CARD||!He)return null;const e=h.gamePhase===M.BURYING_CARD;return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[a.jsxs("h3",{className:"text-xl font-bold text-red-400 mb-4 flex items-center gap-2",children:[e?a.jsx(c,{className:"w-6 h-6"}):a.jsx(C,{className:"w-6 h-6"}),y(e?{en:"Bury Card",vi:"Ch√¥n b√†i"}:{en:"Re-insert Kitten",vi:"ƒê·∫∑t l·∫°i Bomb m√®o"})]}),a.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:y(e?{en:"Choose where to bury the card in the deck:",vi:"Ch·ªçn v·ªã tr√≠ ƒë·ªÉ ch√¥n l√° b√†i v√†o x·∫•p b√†i:"}:{en:"Choose where to hide the kitten back in the deck:",vi:"Ch·ªçn v·ªã tr√≠ ƒë·ªÉ ƒë·∫∑t l·∫°i m√®o n·ªï v√†o x·∫•p b√†i:"})}),Ze(),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsx("button",{onClick:()=>i.requestInsertKitten(0),className:"py-3 bg-slate-800 hover:bg-slate-700 rounded-xl border border-slate-600 text-sm font-medium transition-colors",children:y({en:"Top of deck",vi:"Tr√™n c√πng"})}),a.jsx("button",{onClick:()=>i.requestInsertKitten(Math.floor(h.drawPile.length/2)),className:"py-3 bg-slate-800 hover:bg-slate-700 rounded-xl border border-slate-600 text-sm font-medium transition-colors",children:y({en:"Middle",vi:"·ªû gi·ªØa"})}),a.jsx("button",{onClick:()=>i.requestInsertKitten(h.drawPile.length),className:"py-3 bg-slate-800 hover:bg-slate-700 rounded-xl border border-slate-600 text-sm font-medium transition-colors",children:y({en:"Bottom",vi:"D∆∞·ªõi c√πng"})}),a.jsx("button",{onClick:()=>i.requestInsertKitten(Math.floor(Math.random()*(h.drawPile.length+1))),className:"py-3 bg-slate-800 hover:bg-slate-700 rounded-xl border border-slate-600 text-sm font-medium transition-colors",children:y({en:"Random",vi:"Ng·∫´u nhi√™n"})})]})]})})})(),(()=>{if(h.gamePhase!==M.FAVOR_GIVING||h.favorFrom!==i.userId&&h.favorTo!==i.userId)return null;const e=h.favorFrom===i.userId,s=h.players.find(s=>s.id===(e?h.favorTo:h.favorFrom))?.username||"Unknown";return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-lg w-full",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("h3",{className:"text-xl font-bold text-blue-400 mb-4 flex items-center gap-2",children:[a.jsx($,{className:"w-6 h-6"}),y({en:"Give a Favor",vi:"Thi·ªán √Ω"})]}),a.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:y({en:`${s} requested a card. Pick one to give:`,vi:`${s} y√™u c·∫ßu 1 l√° b√†i. Ch·ªçn 1 l√° ƒë·ªÉ ƒë∆∞a:`})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-h-60 overflow-y-auto p-2",children:_e?.hand.map((e,s)=>a.jsx("div",{className:"shrink-0",children:Xe(e,!0,()=>i.requestGiveFavor(s),"medium")},s))})]}):a.jsxs("div",{className:"flex flex-col items-center gap-6 py-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-slate-700 border-t-blue-500 animate-spin"}),a.jsx($,{className:"absolute inset-0 m-auto w-6 h-6 text-blue-400 animate-pulse"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-widest",children:y({en:"FAVOR PENDING",vi:"ƒêANG CH·ªú THI·ªÜN √ù"})}),a.jsx("p",{className:"text-slate-400 text-sm",children:y({en:`Waiting for ${s} to pick a card for you...`,vi:`ƒêang ch·ªù ${s} ch·ªçn b√†i cho b·∫°n...`})})]})]})})})})(),(()=>{if(null===ne)return null;const e=h.players.filter(e=>null!==e.id&&e.id!==i.userId&&!e.isExploded);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[a.jsxs("h3",{className:"text-xl font-bold text-pink-400 mb-4 flex items-center gap-2",children:[a.jsx($,{className:"w-6 h-6"}),y({en:"Choose Player",vi:"Ch·ªçn ng∆∞·ªùi ch∆°i"})]}),a.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:y({en:"Pick a player to give you a card:",vi:"Ch·ªçn m·ªôt ng∆∞·ªùi ch∆°i ƒë·ªÉ l·∫•y 1 l√° b√†i t·ª´ h·ªç:"})}),a.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:e.map(e=>a.jsxs("button",{onClick:()=>{i.requestPlayCard(ne,e.id),ae(null)},className:"flex items-center justify-between p-4 bg-slate-800 hover:bg-slate-700 rounded-xl border border-slate-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(S,{className:"w-5 h-5 text-slate-400"}),a.jsx("span",{className:"text-white font-bold",children:e.username})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(D,{className:"w-4 h-4 text-slate-500"}),a.jsx("span",{className:"text-slate-400 text-xs font-bold",children:e.hand.length})]})]},e.id))}),a.jsx("button",{onClick:()=>ae(null),className:"w-full py-2 text-slate-400 hover:text-white transition-colors text-sm",children:y({en:"Cancel",vi:"H·ªßy"})})]})})})(),(()=>{if(null===re)return null;const e=h.players.filter(e=>null!==e.id&&e.id!==i.userId&&!e.isExploded);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[a.jsxs("h3",{className:"text-xl font-bold text-red-400 mb-4 flex items-center gap-2",children:[a.jsx(u,{className:"w-6 h-6"}),y({en:"Choose Target",vi:"Ch·ªçn m·ª•c ti√™u"})]}),a.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:y({en:"Pick a player to take 2 turns:",vi:"Ch·ªçn ng∆∞·ªùi ph·∫£i ƒëi 2 l∆∞·ª£t:"})}),a.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:e.map(e=>a.jsxs("button",{onClick:()=>{i.requestPlayCard(re,e.id),ie(null)},className:"flex items-center justify-between p-4 bg-slate-800 hover:bg-red-900/40 rounded-xl border border-slate-600 hover:border-red-500/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(S,{className:"w-5 h-5 text-slate-400"}),a.jsx("span",{className:"text-white font-bold",children:e.username})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(D,{className:"w-4 h-4 text-slate-500"}),a.jsx("span",{className:"text-slate-400 text-xs font-bold",children:e.hand.length})]})]},e.id))}),a.jsx("button",{onClick:()=>ie(null),className:"w-full py-2 text-slate-400 hover:text-white transition-colors text-sm",children:y({en:"Cancel",vi:"H·ªßy"})})]})})})(),(()=>{if(h.gamePhase!==M.ALTER_THE_FUTURE||!h.alterCards||h.currentTurnIndex!==Be)return null;if(oe.length!==h.alterCount)return ce(Array.from({length:h.alterCount},(e,s)=>s)),null;const e=(e,s)=>{if(e===s)return;const t=[...oe],[l]=t.splice(e,1);t.splice(s,0,l),ce(t)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-lg w-full",children:[a.jsxs("h3",{className:"text-xl font-bold text-indigo-400 mb-4 flex items-center gap-2",children:[a.jsx(m,{className:"w-6 h-6"}),y({en:"Alter the Future",vi:"S·ª≠a T∆∞∆°ng Lai"})]}),a.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:y({en:"Drag to reorder. Top card will be drawn first.",vi:"K√©o ƒë·ªÉ s·∫Øp x·∫øp. L√° tr√™n c√πng s·∫Ω ƒë∆∞·ª£c r√∫t tr∆∞·ªõc."})}),Ze(),a.jsx("div",{className:"flex flex-col gap-3 mb-6",children:oe.map((s,t)=>{const l=h.alterCards[s],n=V[l[0]],r=n.icon;return a.jsxs("div",{draggable:!0,onDragStart:()=>xe(t),onDragOver:e=>e.preventDefault(),onDrop:()=>{null!==de&&(e(de,t),xe(null))},onDragEnd:()=>xe(null),className:"flex items-center gap-2 p-2 rounded-xl border cursor-move transition-all "+(de===t?"opacity-50 scale-95":"bg-slate-800 border-slate-600 hover:border-indigo-500/50"),children:[a.jsx("span",{className:"text-slate-500 font-bold w-6 text-center",children:t+1}),a.jsx("div",{className:`${n.bgColor} ${n.borderColor} p-2 rounded-lg`,children:a.jsx(r,{className:`w-5 h-5 ${n.iconColor}`})}),a.jsx("span",{className:`font-bold ${n.textColor} flex-1`,children:y(n.name)}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",disabled:0===t,onClick:s=>{s.stopPropagation(),t>0&&e(t,t-1)},className:"p-2 rounded bg-slate-700 hover:bg-indigo-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsx(U,{className:"w-4 h-4 text-white"})}),a.jsx("button",{type:"button",disabled:t===oe.length-1,onClick:s=>{s.stopPropagation(),t<oe.length-1&&e(t,t+1)},className:"p-2 rounded bg-slate-700 hover:bg-indigo-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsx(F,{className:"w-4 h-4 text-white"})})]})]},s)})}),a.jsxs("button",{onClick:()=>{i.requestReorderFuture(oe),ce([])},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[a.jsx(G,{className:"w-5 h-5"}),y({en:"Confirm Order",vi:"X√°c nh·∫≠n th·ª© t·ª±"})]})]})})})(),te?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-md w-full relative",children:[a.jsx("button",{onClick:()=>le(null),className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full text-slate-400 z-10",children:a.jsx(L,{className:"w-5 h-5"})}),a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(f,{className:"w-6 h-6 text-blue-400"}),y({en:"See The Future",vi:"Nh√¨n th·∫•u t∆∞∆°ng lai"})]}),a.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:y({en:"Top 3 cards in the draw pile:",vi:"3 l√° b√†i tr√™n c√πng c·ªßa x·∫•p b√†i:"})}),a.jsx("div",{className:"flex justify-center gap-2",children:te.map((e,s)=>a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",style:{animationDelay:100*s+"ms"},children:Xe(e)},s))}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx("button",{onClick:()=>le(null),className:"px-8 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-full text-sm font-bold transition-all",children:y({en:"GOT IT",vi:"ƒê√É HI·ªÇU"})})})]})}):null,a.jsx(J,{state:h,game:i,mySlot:_e}),fe?T.createPortal(a.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-2xl w-full max-h-[80vh] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-900/50",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(k,{className:"w-6 h-6 text-slate-400"}),y({en:"Discard History",vi:"L·ªãch s·ª≠ ƒë√°nh b√†i"}),a.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",h.discardPile.length," ",y({en:"cards",vi:"l√°"}),")"]})]}),a.jsx("button",{onClick:()=>Ne(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400 transition-colors",children:a.jsx(L,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-4 @md:p-6 overflow-y-auto custom-scrollbar bg-slate-950/30",children:[a.jsx("div",{className:"flex flex-col gap-2",children:[...h.discardHistory].reverse().map((e,s)=>{const t=h.players.find(s=>s.id===e.playerId),l=e.targetPlayerId?h.players.find(s=>s.id===e.targetPlayerId):null,n=t?.id===i.userId;return a.jsxs("div",{className:`flex flex-col gap-3 p-4 bg-slate-800/40 rounded-2xl border ${e.isNoped?"border-red-500/30 bg-red-500/5":"border-slate-700/50"} animate-in fade-in slide-in-from-bottom-2`,style:{animationDelay:50*s+"ms"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center text-xs font-black text-white uppercase",children:t?.username?.[0]||"?"}),a.jsxs("span",{className:"text-sm font-black text-white leading-tight flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{children:[t?.username||"Unknown",n&&Y({en:" (You)",vi:" (B·∫°n)"})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx(B,{className:"w-4 h-4 text-slate-500"}),a.jsxs("span",{className:"text-blue-400",children:[l.username,l.id===i.userId&&Y({en:" (You)",vi:" (B·∫°n)"})]})]}),0===e.cards.length&&a.jsxs("span",{className:"text-slate-500 text-xs font-medium lowercase",children:["‚Äî ",y({en:"drew a card",vi:"v·ª´a r√∫t b√†i"})]}),a.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tight",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]}),void 0!==e.isNoped&&a.jsx("div",{className:"px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-widest flex items-center gap-1 shadow-sm border "+(e.isNoped?"bg-red-600/20 text-red-500 border-red-500/30":"bg-green-600/40 text-green-400 border-green-500/50 shadow-[0_0_10px_rgba(34,197,94,0.3)]"),children:e.isNoped?a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"w-3 h-3"}),y({en:"Blocked",vi:"B·ªã ch·∫∑n"})]}):a.jsxs(a.Fragment,{children:[a.jsx(G,{className:"w-3 h-3"}),y({en:"Executed",vi:"Xong"})]})})]}),e.cards.length>0&&a.jsxs("div",{className:"flex flex-col gap-3",children:[e.cards.length>1?a.jsxs("div",{className:"flex items-start gap-4 p-3 bg-slate-900/50 rounded-xl border border-slate-700/50 shadow-inner",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center border-2 ${V[e.cards[0][0]].borderColor} ${V[e.cards[0][0]].bgColor} shadow-lg`,children:a.jsx(k,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 text-slate-900 text-[10px] font-black px-1.5 py-0.5 rounded-md border-2 border-slate-900 shadow-sm",children:["x",e.cards.length]})]}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsxs("h4",{className:"text-xs font-black text-white uppercase tracking-wider mb-1",children:[Y(Q[e.cards.length]?.name)," ",Y(V[e.cards?.[0]?.[0]]?.name)]}),a.jsx("span",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:Y(Q[e.cards.length]?.description)})]})]}):null,a.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.cards.map((s,t)=>a.jsx("div",{children:Xe(s,!1,void 0,e.cards.length>2?"small":"medium")},t))})})]}),e.nopeChain&&e.nopeChain.length>1&&a.jsx("div",{className:"mt-1 pt-2 border-t border-slate-700/30 flex flex-col gap-1.5",children:e.nopeChain.map((e,s)=>{if(0===s)return null;const t=h.players.find(s=>s.id===e.playerId);return a.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(s%2==1?"bg-red-500":"bg-green-500")}),a.jsx("span",{className:"font-bold text-slate-300",children:t?.username||"Unknown"}),a.jsx("span",{className:"text-slate-500 uppercase font-black",children:Y(s%2==1?{en:"Noped",vi:"Ch·∫∑n"}:{en:"Re-Noped",vi:"B·ªè ch·∫∑n"})})]},s)})}),(()=>{const s=h.privateLogs.find(s=>s.discardEntryTimestamp===e.timestamp&&s.visibleTo.includes(i.userId));if(!s||e.isNoped)return null;const t=V[s.stolenCard[0]],l=t.icon,n=s.toPlayerId===i.userId;return a.jsx("div",{className:"mt-2 pt-2 border-t border-purple-500/30",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-900/30 rounded-lg border border-purple-500/30",children:[a.jsx(_,{className:"w-4 h-4 text-purple-400 shrink-0"}),a.jsx("span",{className:"text-xs text-purple-300 font-medium",children:Y(n?{en:"You stole:",vi:"B·∫°n ƒë√£ c∆∞·ªõp:"}:{en:"Your card was stolen:",vi:"B√†i b·ªã c∆∞·ªõp:"})}),a.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded ${t.bgColor} ${t.borderColor} border`,children:[a.jsx(l,{className:`w-3 h-3 ${t.iconColor}`}),a.jsx("span",{className:`text-xs font-bold ${t.textColor}`,children:Y(t.name)})]})]})})})()]},`${e.timestamp}-${s}`)})}),0===h.discardHistory.length&&a.jsx("div",{className:"text-center py-20 text-slate-600 italic",children:y({en:"No cards played yet",vi:"Ch∆∞a c√≥ l√° b√†i n√†o ƒë∆∞·ª£c ƒë√°nh"})})]})]})}),document.body):null,"target"===ue&&he?a.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-sm w-full p-6 shadow-2xl animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(x,{className:"w-6 h-6 text-red-500"}),Y({en:"Choose Target",vi:"Ch·ªçn ƒê·ªëi Th·ªß"})]}),a.jsx("button",{onClick:()=>{be(null),me(null)},className:"p-1 hover:bg-white/10 rounded-full text-slate-400",children:a.jsx(L,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-md text-slate-400 mb-6 italic",children:y({en:a.jsxs(a.Fragment,{children:["Select a player to"," ",a.jsx("span",{className:"text-green-500 font-black",children:"STEAL A CARD"})," ","from using your ",he.length,"-card COMBO"]}),vi:a.jsxs(a.Fragment,{children:["Ch·ªçn m·ªôt ng∆∞·ªùi ch∆°i ƒë·ªÉ"," ",a.jsx("span",{className:"text-green-500 font-black",children:"C∆Ø·ªöP 1 L√Å B√ÄI"})," ","b·∫±ng COMBO ",he.length," L√Å c·ªßa b·∫°n."]})})}),a.jsx("div",{className:"space-y-3",children:Ie.filter(e=>e.id&&e.id!==i.userId&&!e.isExploded).map(e=>a.jsxs("button",{onClick:()=>{pe(e.id),2===he.length?(i.requestPlayCombo(he,e.id),be(null),me(null)):be("card_type")},className:"w-full p-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl flex items-center justify-between transition-all hover:scale-[1.02]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(S,{className:"w-5 h-5 text-slate-400"}),a.jsx("span",{className:"font-bold text-white",children:e.username})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-500 uppercase font-black",children:[a.jsx(k,{className:"w-3 h-3"}),e.hand.length]})]},e.id))})]})}):null,(()=>{if("card_type"!==ue||!he||!ge)return null;const e=[H.DEFUSE,H.ATTACK,H.SKIP,H.FAVOR,H.SHUFFLE,H.SEE_THE_FUTURE,H.NOPE];return a.jsx("div",{className:"fixed inset-0 z-70 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-lg w-full p-6 shadow-2xl animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx($,{className:"w-6 h-6 text-yellow-500"}),Y({en:"Name a Card",vi:"ƒê·ªçc T√™n L√° B√†i"})]}),a.jsx("button",{onClick:()=>be("target"),className:"px-3 py-1 bg-slate-800 hover:bg-slate-700 rounded-full text-xs text-slate-400",children:Y({en:"Back",vi:"Quay l·∫°i"})})]}),a.jsx("p",{className:"text-md text-slate-400 mb-6 italic",children:y({en:a.jsxs(a.Fragment,{children:["If the target player has this card, you"," ",a.jsx("span",{className:"text-green-500 font-black",children:"STEAL IT!"})," ",he.length,"-card COMBO"]}),vi:a.jsxs(a.Fragment,{children:["N·∫øu ƒë·ªëi th·ªß c√≥ l√° b√†i n√†y, b·∫°n s·∫Ω"," ",a.jsx("span",{className:"text-green-500 font-black",children:"L·∫§Y ƒê∆Ø·ª¢C"})," ","n√≥! COMBO ",he.length," L√Å c·ªßa b·∫°n."]})})}),a.jsx("div",{className:"grid grid-cols-2 @md:grid-cols-3 gap-3",children:e.map(e=>{const s=V[e],t=s.icon;return a.jsxs("button",{onClick:()=>{i.requestPlayCombo(he,ge,e),be(null),me(null),pe(null)},className:`p-3 rounded-xl border-2 ${s.borderColor} ${s.bgColor} flex flex-col items-center gap-2 transition-all hover:scale-105 shadow-lg group`,children:[a.jsx(t,{className:`w-8 h-8 ${s.iconColor} group-hover:scale-110 transition-transform`}),a.jsx("span",{className:`text-[10px] font-black uppercase text-center ${s.textColor}`,children:Y(s.name)})]},e)})})]})})})(),(()=>{if(!v||!Me)return null;const e=(()=>{const e=i.getDeckConfig();return Object.keys(e).some(s=>e[Number(s)]!==es[Number(s)])})(),s=Ie.length;return T.createPortal(a.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full shadow-2xl relative flex flex-col max-h-[85vh]",children:[a.jsxs("div",{className:"flex justify-between p-4 pr-2 border-b border-slate-800",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(I,{className:"w-6 h-6 text-slate-400"}),y({en:"Deck Configuration",vi:"C·∫•u h√¨nh b·ªô b√†i"})]}),a.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:a.jsx(L,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 overflow-y-auto grid grid-cols-1 gap-2",children:[a.jsx("p",{className:"text-sm text-slate-400",children:y({en:"Cards that are disabled will not appear in the deck.",vi:"L√° b·ªã t·∫Øt s·∫Ω kh√¥ng xu·∫•t hi·ªán trong b·ªô b√†i."})}),Object.entries(V).map(([e,t])=>{const l=Number(e);if(l===H.EXPLODING_KITTEN||l===H.DEFUSE)return null;const n=es[l]??!0,r=i.getCardCountForType(l,s);return a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border transition-all "+(n?"bg-slate-800 border-slate-600":"bg-slate-900/50 border-slate-800 opacity-60"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`${t.bgColor} ${t.borderColor} p-2 rounded-full`,children:a.jsx(t.icon,{className:`w-6 h-6 ${t.iconColor} ${t.icon}`})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:`font-bold text-sm ${t.textColor}`,children:y(t.name)}),a.jsxs("span",{className:"text-xs bg-slate-700 text-slate-300 px-1.5 py-0.5 rounded",children:["x",r]})]}),a.jsx("p",{className:"text-xs text-slate-400 pt-1",children:y(t.description)})]})]}),a.jsx("button",{onClick:()=>(e=>{ss(s=>({...s,[e]:!s[e]}))})(l),className:"shrink-0 w-12 h-6 rounded-full transition-colors relative cursor-pointer "+(n?"bg-green-500 hover:bg-green-400":"bg-slate-700 hover:bg-slate-600"),children:a.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all shadow-md "+(n?"left-7":"left-1")})})]},l)})]}),a.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50 rounded-b-xl flex justify-between items-center gap-4",children:[a.jsx("button",{onClick:()=>{const e=i.getDeckConfig();Object.keys(K).forEach(s=>{e[Number(s)]=!0}),ss(e)},className:"text-xs text-slate-400 hover:text-white underline decoration-dotted",children:y({en:"Reset Default",vi:"M·∫∑c ƒë·ªãnh"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{j(!1),ss(i.getDeckConfig())},className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white text-sm font-bold transition-all",children:y({en:"Cancel",vi:"H·ªßy"})}),a.jsx("button",{onClick:()=>{i.setDeckConfig(es),j(!1)},disabled:!e,className:"px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-lg "+(e?"bg-green-600 hover:bg-green-500 text-white hover:shadow-green-500/20":"bg-slate-700 text-slate-400 cursor-not-allowed"),children:y({en:"Apply",vi:"√Åp d·ª•ng"})})]})]})]})}),document.body)})(),a.jsx(z,{containerRef:Le,sourceRect:Ye?.sourceRect,targetRect:Ye?.targetRect,isOpen:!!Pe,onComplete:()=>{Ae(null),je(!0)},children:a.jsxs("div",{className:"w-20 h-28 relative",children:[Pe?.card&&Xe(Pe.card,!1,void 0,"medium"),Pe?.hidden&&a.jsx("div",{className:"absolute inset-0 bg-slate-800 rounded-lg border-2 border-slate-600 flex items-center justify-center",children:a.jsx(k,{className:"w-8 h-8 text-slate-500"})})]})}),a.jsx("button",{onClick:()=>N(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-400 transition-colors z-40 shadow-lg border border-slate-500",title:"Rules",children:a.jsx(A,{size:24})}),g&&T.createPortal(a.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 p-4",children:a.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full shadow-2xl relative",children:[a.jsxs("div",{className:"flex justify-between p-4 pr-2",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(A,{className:"w-6 h-6 text-yellow-500"}),y({en:"Game Rules: Exploding Kittens",vi:"Lu·∫≠t Ch∆°i: M√®o N·ªï"})]}),a.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:a.jsx(L,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 pt-0 space-y-4 text-slate-300 leading-relaxed max-h-[80vh] overflow-y-auto",children:[a.jsx("p",{children:y({en:"Exploding Kittens is a highly-strategic, kitty-powered version of Russian Roulette.",vi:"M√®o N·ªï (Exploding Kittens) l√† m·ªôt board game th·∫ª b√†i chi·∫øn thu·∫≠t pha l·∫´n may r·ªßi c·ª±c k·ª≥ h√†i h∆∞·ªõc."})}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:y({en:"1. Goal",vi:"1. M·ª•c ti√™u"})}),a.jsx("p",{children:y({en:a.jsxs(a.Fragment,{children:["Be the last player alive by avoiding the"," ",Z(H.EXPLODING_KITTEN),". If you draw one without a ",Z(H.DEFUSE),", you are out!"]}),vi:a.jsxs(a.Fragment,{children:["S·ªëng s√≥t ƒë·∫øn cu·ªëi c√πng b·∫±ng c√°ch tr√°nh ho·∫∑c v√¥ hi·ªáu h√≥a c√°c l√° b√†i ",Z(H.EXPLODING_KITTEN),". N·∫øu b·∫°n r√∫t ph·∫£i l√° M√®o N·ªï m√† kh√¥ng c√≥ l√°"," ",Z(H.DEFUSE),", b·∫°n s·∫Ω b·ªã lo·∫°i ngay l·∫≠p t·ª©c."]})})}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:y({en:"2. Setup",vi:"2. Thi·∫øt l·∫≠p"})}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:y({en:a.jsxs(a.Fragment,{children:["Each player starts with 1"," ",Z(H.DEFUSE)," and 6 random cards."]}),vi:a.jsxs(a.Fragment,{children:["M·ªói ng∆∞·ªùi nh·∫≠n 1 l√° ",Z(H.DEFUSE)," ","v√† 6 l√° b√†i ng·∫´u nhi√™n kh√°c."]})})}),a.jsx("li",{children:y({en:a.jsxs(a.Fragment,{children:["The deck contains (Players - 1)"," ",Z(H.EXPLODING_KITTEN),"."]}),vi:a.jsxs(a.Fragment,{children:["Ch·ªìng b√†i r√∫t c√≥ (s·ªë ng∆∞·ªùi ch∆°i - 1) l√°"," ",Z(H.EXPLODING_KITTEN),"."]})})})]}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:y({en:"3. How to Play",vi:"3. C√°ch ch∆°i"})}),a.jsx("p",{children:y({en:"Your turn has two phases:",vi:"M·ªói l∆∞·ª£t ch∆°i g·ªìm 2 giai ƒëo·∫°n ch√≠nh:"})}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:y({en:"Action (Optional):",vi:"H√†nh ƒë·ªông (T√πy ch·ªçn):"})})," ",y({en:"Play as many cards as you want from your hand.",vi:"ƒê√°nh xu·ªëng bao nhi√™u l√° b√†i t√πy th√≠ch ƒë·ªÉ s·ª≠ d·ª•ng ch·ª©c nƒÉng c·ªßa ch√∫ng, ho·∫∑c kh√¥ng ƒë√°nh l√° n√†o."})]}),a.jsxs("li",{children:[a.jsx("strong",{children:y({en:"End Turn (Mandatory):",vi:"K·∫øt th√∫c l∆∞·ª£t (B·∫Øt bu·ªôc):"})})," ",y({en:a.jsxs(a.Fragment,{children:["Draw one card from the deck. If it's not a"," ",Z(H.EXPLODING_KITTEN),", you're safe!"]}),vi:a.jsxs(a.Fragment,{children:["R√∫t m·ªôt l√° t·ª´ ch·ªìng b√†i chung. N·∫øu ƒë√≥ kh√¥ng ph·∫£i"," ",Z(H.EXPLODING_KITTEN),", l∆∞·ª£t c·ªßa b·∫°n k·∫øt th√∫c an to√†n."]})})]})]}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:y({en:"4. Combos",vi:"4. Combo"})}),a.jsx("p",{children:y({en:"Select multiple cards in your hand and click 'PLAY COMBO'.",vi:"Ch·ªçn nhi·ªÅu l√° trong tay v√† nh·∫•n 'D√ôNG COMBO'."})}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{className:"text-yellow-400",children:y({en:"Pairs:",vi:"C·∫∑p ƒê√¥i:"})})," ",y({en:a.jsxs(a.Fragment,{children:["Play 2 cards of the same type to"," ",a.jsx("span",{className:"font-bold text-green-500",children:"STEAL a RANDOM"})," ","card from another player."]}),vi:a.jsxs(a.Fragment,{children:["ƒê√°nh 2 l√° c√πng lo·∫°i ƒë·ªÉ"," ",a.jsx("span",{className:"font-bold text-green-500",children:"C∆Ø·ªöP 1 l√° NG·∫™U NHI√äN"})," ","t·ª´ ng∆∞·ªùi ch∆°i kh√°c."]})})]}),a.jsxs("li",{children:[a.jsx("strong",{className:"text-yellow-400",children:y({en:"Triplets:",vi:"B·ªô Ba:"})})," ",y({en:a.jsxs(a.Fragment,{children:["Play 3 cards of the same type to"," ",a.jsx("span",{className:"font-bold text-green-500",children:"NAME A CARD"}),". If the target has it, you"," ",a.jsx("span",{className:"font-bold text-green-500",children:"STEAL IT"}),"."]}),vi:a.jsxs(a.Fragment,{children:["ƒê√°nh 3 l√° c√πng lo·∫°i v√†"," ",a.jsx("span",{className:"font-bold text-green-500",children:"ƒê·ªåC T√äN 1 L√Å"}),". N·∫øu ƒë·ªëi th·ªß c√≥ l√° ƒë√≥, b·∫°n s·∫Ω"," ",a.jsx("span",{className:"font-bold text-green-500",children:"L·∫§Y N√ì"}),"."]})})]})]}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:y({en:"5. Cards",vi:"5. L√° b√†i"})}),a.jsx("div",{className:"space-y-2",children:Object.entries(V).map(([e,s])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`${s.bgColor} ${s.borderColor} p-2 rounded-full`,children:a.jsx(s.icon,{className:`w-6 h-6 ${s.iconColor} ${s.icon}`})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${s.textColor}`,children:y(s.name)}),a.jsx("p",{className:"text-sm text-slate-500",children:y(s.description)})]})]},e))}),a.jsx("h3",{className:"text-lg font-bold text-yellow-400 mb-4",children:y({en:"6. Tips",vi:"6. M·∫πo"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("h4",{className:"font-bold text-white text-lg",children:y({en:"1. Strategic Card Management",vi:"1. Qu·∫£n l√Ω l√° b√†i chi·∫øn l∆∞·ª£c"})})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 pl-2",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Keep Defuse until the end",vi:"Gi·ªØ l√° G·ª° bom ƒë·∫øn cu·ªëi"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Don't rush to use your",vi:"ƒê·ª´ng v·ªôi d√πng l√°"})," ",Z(H.DEFUSE)," ",y({en:"in early turns. It's the most valuable insurance when the deck gets thin.",vi:"·ªü nh·ªØng l∆∞·ª£t ƒë·∫ßu n·∫øu kh√¥ng c·∫ßn thi·∫øt, ƒë√¢y l√† b·∫£o hi·ªÉm qu√Ω gi√° nh·∫•t v·ªÅ sau khi x·∫•p b√†i ƒë√£ m·ªèng."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Use Combos effectively",vi:"S·ª≠ d·ª•ng Combo"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Collect matching cat cards to steal a",vi:"Gom c√°c l√° m√®o th∆∞·ªùng (c√πng m√†u) ƒë·ªÉ c∆∞·ªõp l√° b√†i"})," ",Z(H.DEFUSE)," ",y({en:"or other important function cards from other players.",vi:"ho·∫∑c c√°c l√° b√†i ch·ª©c nƒÉng quan tr·ªçng kh√°c t·ª´ tay ng∆∞·ªùi kh√°c."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Master the Nope card",vi:"T·∫≠n d·ª•ng l√° Ch·∫∑n (Nope)"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Keep your",vi:"H√£y gi·ªØ l√°"})," ",Z(H.NOPE)," ",y({en:"to block incoming attacks or when someone tries to steal from you.",vi:"ƒë·ªÉ ch·∫∑n c√°c h√†nh ƒë·ªông t·∫•n c√¥ng ho·∫∑c khi ng∆∞·ªùi kh√°c ƒë·ªãnh c∆∞·ªõp b√†i c·ªßa b·∫°n."})]})]})]})]}),a.jsxs("section",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("h4",{className:"font-bold text-white text-lg",children:y({en:"2. Deck Management",vi:"2. Ki·ªÉm so√°t x·∫•p b√†i"})})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 pl-2",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"See the Future + Shuffle/Skip",vi:"K·∫øt h·ª£p Xem tr∆∞·ªõc + X√°o b√†i/B·ªè l∆∞·ª£t"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"If you use",vi:"N·∫øu b·∫°n s·ª≠ d·ª•ng"})," ",Z(H.SEE_THE_FUTURE)," ",y({en:"and see a Kitten on top, use",vi:"v√† th·∫•y M√®o n·ªï ·ªü tr√™n c√πng, h√£y d√πng"})," ",Z(H.SHUFFLE)," ",y({en:"to change its position, or",vi:"ƒë·ªÉ ƒë·ªïi v·ªã tr√≠, ho·∫∑c"})," ",Z(H.SKIP)," ",y({en:"to end your turn safely without drawing.",vi:"ƒë·ªÉ k·∫øt th√∫c l∆∞·ª£t an to√†n m√† kh√¥ng c·∫ßn r√∫t b√†i."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Mind Games with Defuse",vi:"Ch∆°i khƒÉm b·∫±ng G·ª° bom"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"When you use a",vi:"Khi b·∫°n s·ª≠ d·ª•ng"})," ",Z(H.DEFUSE)," ",y({en:"to put back an Exploding Kitten, do it secretly. Place it on top or where you want your opponent to draw it.",vi:"ƒë·ªÉ ƒë·∫∑t l·∫°i l√° M√®o n·ªï, h√£y th·ª±c hi·ªán b√≠ m·∫≠t, ƒë·∫∑t ngay l√™n ƒë·∫ßu ho·∫∑c v·ªã tr√≠ m√† b·∫°n mu·ªën ƒë·ªëi th·ªß r√∫t ph·∫£i."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Track Defuses",vi:"Theo d√µi G·ª° bom"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Keep track of how many",vi:"H√£y theo d√µi s·ªë l∆∞·ª£ng l√°"})," ",Z(H.DEFUSE)," ",y({en:"cards have been used to predict when the bomb will reappear.",vi:"ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ d·ª± ƒëo√°n khi n√†o bom s·∫Ω xu·∫•t hi·ªán tr·ªü l·∫°i."})]})]})]})]}),a.jsxs("section",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("h4",{className:"font-bold text-white text-lg",children:y({en:"3. Offense and Defense",vi:"3. T·∫•n c√¥ng v√† ph√≤ng th·ªß"})})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 pl-2",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Use Attack wisely",vi:"S·ª≠ d·ª•ng T·∫•n c√¥ng h·ª£p l√Ω"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Use an",vi:"S·ª≠ d·ª•ng l√°"})," ",Z(H.ATTACK)," ",y({en:"to put pressure on the next player, especially when you suspect the top card is an Exploding Kitten.",vi:"ƒë·ªÉ ƒë·∫©y √°p l·ª±c cho ng∆∞·ªùi ti·∫øp theo, ƒë·∫∑c bi·ªát khi b·∫°n nghi ng·ªù l√° tr√™n c√πng l√† M√®o n·ªï."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Shuffle when in doubt",vi:"T·∫≠n d·ª•ng X√°o b√†i khi hoang mang"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"If you feel endangered and don't have a way to see the deck, use",vi:"N·∫øu b·∫°n c·∫£m th·∫•y nguy hi·ªÉm m√† kh√¥ng c√≥ c√°ch n√†o xem tr∆∞·ªõc b√†i, h√£y d√πng"})," ",Z(H.SHUFFLE)," ",y({en:"to try your luck and escape from a potential Kitten.",vi:"ƒë·ªÉ th·ª≠ v·∫≠n may v√† tho√°t kh·ªèi nguy c∆° b·ªëc ph·∫£i M√®o n·ªï."})]})]})]})]}),a.jsxs("section",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("h4",{className:"font-bold text-white text-lg",children:y({en:"4. Expansion Tactics",vi:"4. Chi·∫øn thu·∫≠t m·ªü r·ªông"})})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 pl-2",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Personal Attack Aggression",vi:"T·∫•n c√¥ng c√° nh√¢n d·ªìn d·∫≠p"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Use",vi:"S·ª≠ d·ª•ng"})," ",Z(H.PERSONAL_ATTACK)," ",y({en:"when safe to take 3 turns and farm cards.",vi:"khi an to√†n ƒë·ªÉ ƒëi 3 l∆∞·ª£t v√† 'c√†y' b√†i."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Catomic Bomb Chaos",vi:"H·ªón lo·∫°n Bom Nguy√™n T·ª≠"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Play",vi:"ƒê√°nh"})," ",Z(H.CATOMIC_BOMB)," ",y({en:"to force all Kittens to the top. Instant danger!",vi:"ƒë·ªÉ k√©o h·∫øt M√®o n·ªï l√™n ƒë·∫ßu. Nguy hi·ªÉm t·ª©c th√¨!"})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Safe Draw from Bottom",vi:"R√∫t ƒë√°y an to√†n"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Suspect a trap? Use",vi:"Nghi ng·ªù c√≥ b·∫´y? D√πng"})," ",Z(H.DRAW_BOTTOM)," ",y({en:"to draw safely from below.",vi:"ƒë·ªÉ r√∫t an to√†n t·ª´ d∆∞·ªõi ƒë√°y."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Burying Secrets",vi:"Ch√¥n c·∫•t b√≠ m·∫≠t"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Use",vi:"D√πng"})," ",Z(H.BURY)," ",y({en:"to steal a card secretly and hide it back.",vi:"ƒë·ªÉ r√∫t tr·ªôm 1 l√° v√† gi·∫•u l·∫°i v√†o b·ªô b√†i."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Reversing Attacks",vi:"Ph·∫£n ƒë√≤n b·∫±ng ƒê·∫£o chi·ªÅu"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Use",vi:"D√πng"})," ",Z(H.REVERSE)," ",y({en:"to return an Attack to sender.",vi:"ƒë·ªÉ tr·∫£ T·∫•n c√¥ng l·∫°i cho ng∆∞·ªùi g·ª≠i."})]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Precision Striking",vi:"T·∫•n c√¥ng ch√≠nh x√°c"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[y({en:"Target low-card players with",vi:"Nh·∫Øm v√†o ng∆∞·ªùi √≠t b√†i b·∫±ng"})," ",Z(H.TARGETED_ATTACK),"."]})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[a.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:y({en:"Reality Hacking",vi:"Hack th·ª±c t·∫°i"})}),a.jsxs("p",{className:"text-sm text-slate-300",children:[Z(H.ALTER_THE_FUTURE_3)," ",y({en:"rearranges cards to set traps.",vi:"s·∫Øp x·∫øp l·∫°i b√†i ƒë·ªÉ ƒë·∫∑t b·∫´y."})]})]})]})]})]})]})]})}),document.body)]})}export{ee as default};
