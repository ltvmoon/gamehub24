import{u as e,j as t}from"./index-Di-nc6fj.js";import{ak as r,R as n,c as o,al as a,J as s,U as i,b as l,z as u,am as c}from"./react-vendor-CVGOeHNa.js";import"./BaseGame-bOx6xEpu.js";import"./socket-DRbsQkF5.js";import"./zustand-D55yBrsf.js";var d,p,f,h,y,g={exports:{}};function m(){if(p)return d;p=1;return d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function v(){if(h)return f;h=1;var e=m();function t(){}function r(){}return r.resetWarningCache=t,f=function(){function n(t,r,n,o,a,s){if(s!==e){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function o(){return n}n.isRequired=n;var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a}}function b(){return y||(y=1,g.exports=v()()),g.exports}const x=r(b());var P,w;const C=r(w?P:(w=1,P=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!==o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;0!==o--;){var s=a[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}));var E,j,S={exports:{}};var N,I,A,O={exports:{}};function k(){return A||(A=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){if(I)return N;function e(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function t(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}return I=1,N=function(r,n,o){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof n&&(o=n,n={}),n=n||{},o=o||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async=!("async"in n)||!!n.async,s.src=r,n.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(s,n.attrs),n.text&&(s.text=""+n.text),("onload"in s?e:t)(s,o),s.onload||e(s,o),a.appendChild(s)}}(),o=(r=n)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise(function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var r="http:"===window.location.protocol?"http:":"https:";(0,o.default)(r+"//www.youtube.com/iframe_api",function(t){t&&e.trigger("error",t)});var n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){n&&n(),t(window.YT)}}})},e.exports=t.default}(O,O.exports)),O.exports}var R,V,T,D,_={exports:{}},U={exports:{}},L={exports:{}};function M(){if(V)return R;V=1;var e=1e3,t=60*e,r=60*t,n=24*r,o=365.25*n;function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}return R=function(s,i){i=i||{};var l,u=typeof s;if("string"===u&&s.length>0)return function(a){if((a=String(a)).length>100)return;var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(!s)return;var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*o;case"days":case"day":case"d":return i*n;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*t;case"seconds":case"second":case"secs":case"sec":case"s":return i*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(s);if("number"===u&&!1===isNaN(s))return i.long?a(l=s,n,"day")||a(l,r,"hour")||a(l,t,"minute")||a(l,e,"second")||l+" ms":function(o){if(o>=n)return Math.round(o/n)+"d";if(o>=r)return Math.round(o/r)+"h";if(o>=t)return Math.round(o/t)+"m";if(o>=e)return Math.round(o/e)+"s";return o+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}function G(){return T||(T=1,function(e,t){var r;function n(e){function n(){if(n.enabled){var e=n,o=+new Date,a=o-(r||o);e.diff=a,e.prev=r,e.curr=o,r=o;for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;l++;var o=t.formatters[n];if("function"==typeof o){var a=s[l];r=o.call(e,a),s.splice(l,1),l--}return r}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=L.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=M(),t.names=[],t.skips=[],t.formatters={}}(0,L.exports)),L.exports}var Y,F={exports:{}};var B,Q={exports:{}};var z,$,W,q,H={exports:{}},J={exports:{}};function K(){return $||($=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){return z||(z=1,e=J,t=J.exports,Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default),J.exports;var e,t}(),o=(r=n)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(H,H.exports)),H.exports}function Z(){return W||(W=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=(D||(D=1,function(e,t){var r={};function n(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=r.DEBUG),e}(t=U.exports=G()).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(n())}(0,U.exports)),U.exports),n=u(r),o=function(){return Y||(Y=1,e=F,t=F.exports,Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default),F.exports;var e,t}(),a=u(o),s=function(){return B||(B=1,e=Q,t=Q.exports,Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default),Q.exports;var e,t}(),i=u(s),l=u(K());function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.default)("youtube-player"),d={proxyEvents:function(e){var t={},r=function(r){var n="on"+r.slice(0,1).toUpperCase()+r.slice(1);t[n]=function(t){c('event "%s"',n,t),e.trigger(r,t)}},n=!0,o=!1,a=void 0;try{for(var s,l=i.default[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){r(s.value)}}catch(u){o=!0,a=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},n=function(n){t&&l.default[n]?r[n]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.then(function(e){var t=l.default[n],o=e.getPlayerState(),a=e[n].apply(e,r);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(o)?new Promise(function(r){e.addEventListener("onStateChange",function n(){var o=e.getPlayerState(),a=void 0;"number"==typeof t.timeout&&(a=setTimeout(function(){e.removeEventListener("onStateChange",n),r()},t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(o)&&(e.removeEventListener("onStateChange",n),clearTimeout(a),r())})}).then(function(){return a}):a})}:r[n]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.then(function(e){return e[n].apply(e,r)})}},o=!0,s=!1,i=void 0;try{for(var u,c=a.default[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){n(u.value)}}catch(d){s=!0,i=d}finally{try{!o&&c.return&&c.return()}finally{if(s)throw i}}return r}};t.default=d,e.exports=t.default}(_,_.exports)),_.exports}const X=r((q||(q=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=s(j?E:(j=1,E=function(){var e={},t={};return e.on=function(e,r){var n={name:e,handler:r};return t[e]=t[e]||[],t[e].unshift(n),n},e.off=function(e){var r=t[e.name].indexOf(e);-1!==r&&t[e.name].splice(r,1)},e.trigger=function(e,r){var n,o=t[e];if(o)for(n=o.length;n--;)o[n].handler(r)},e})),o=s(k()),a=s(Z());function s(e){return e&&e.__esModule?e:{default:e}}var i=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,n.default)();if(i||(i=(0,o.default)(l)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=a.default.proxyEvents(l);var u=new Promise(function(n){"object"===(void 0===e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):i.then(function(r){var o=new r.Player(e,t);return l.on("ready",function(){n(o)}),null})}),c=a.default.promisifyPlayer(u,s);return c.on=l.on,c.off=l.off,c},e.exports=t.default}(S,S.exports)),S.exports));var ee=Object.defineProperty,te=Object.defineProperties,re=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,se=(e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ie=(e,t)=>{for(var r in t||(t={}))oe.call(t,r)&&se(e,r,t[r]);if(ne)for(var r of ne(t))ae.call(t,r)&&se(e,r,t[r]);return e},le=(e,t)=>te(e,re(t));function ue(e={}){return le(ie({},e),{height:0,width:0,playerVars:le(ie({},e.playerVars),{autoplay:0,start:0,end:0})})}var ce={videoId:x.string,id:x.string,className:x.string,iframeClassName:x.string,style:x.object,title:x.string,loading:x.oneOf(["lazy","eager"]),opts:x.objectOf(x.any),onReady:x.func,onError:x.func,onPlay:x.func,onPause:x.func,onEnd:x.func,onStateChange:x.func,onPlaybackRateChange:x.func,onPlaybackQualityChange:x.func},de=class extends n.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,r;return null==(r=(t=this.props).onReady)?void 0:r.call(t,e)},this.onPlayerError=e=>{var t,r;return null==(r=(t=this.props).onError)?void 0:r.call(t,e)},this.onPlayerStateChange=e=>{var t,r,n,o,a,s,i,l;switch(null==(r=(t=this.props).onStateChange)||r.call(t,e),e.data){case de.PlayerState.ENDED:null==(o=(n=this.props).onEnd)||o.call(n,e);break;case de.PlayerState.PLAYING:null==(s=(a=this.props).onPlay)||s.call(a,e);break;case de.PlayerState.PAUSED:null==(l=(i=this.props).onPause)||l.call(i,e)}},this.onPlayerPlaybackRateChange=e=>{var t,r;return null==(r=(t=this.props).onPlaybackRateChange)?void 0:r.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,r;return null==(r=(t=this.props).onPlaybackQualityChange)?void 0:r.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"==typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=le(ie({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=X(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then(e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,r,n;if(void 0===this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let o=!1;const a={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(o=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),o?null==(r=this.internalPlayer)||r.loadVideoById(a):null==(n=this.internalPlayer)||n.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,r=null,n=function*(){(function(e,t){var r,n,o,a;return e.id!==t.id||e.className!==t.className||(null==(r=e.opts)?void 0:r.width)!==(null==(n=t.opts)?void 0:n.width)||(null==(o=e.opts)?void 0:o.height)!==(null==(a=t.opts)?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!C(ue(e.opts),ue(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var r,n;if(e.videoId!==t.videoId)return!0;const o=(null==(r=e.opts)?void 0:r.playerVars)||{},a=(null==(n=t.opts)?void 0:n.playerVars)||{};return o.start!==a.start||o.end!==a.end}(e,this.props)&&this.updateVideo()},new Promise((e,o)=>{var a=e=>{try{i(n.next(e))}catch(t){o(t)}},s=e=>{try{i(n.throw(e))}catch(t){o(t)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,s);i((n=n.apply(t,r)).next())});var t,r,n}componentWillUnmount(){this.destroyPlayer()}render(){return n.createElement("div",{className:this.props.className,style:this.props.style},n.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},pe=de;pe.propTypes=ce,pe.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},pe.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var fe=pe;function he({game:r}){const n=r,{ts:d}=e(),[p,f]=o.useState(n.getState()),[h,y]=o.useState(""),[g,m]=o.useState(null),[v,b]=o.useState(null),x=o.useRef(!1);o.useEffect(()=>n.onUpdate(e=>{f(e)}),[n]),o.useEffect(()=>{if(g&&p.videoId&&"function"==typeof g.getPlayerState)if(x.current)x.current=!1;else try{const e=g.getPlayerState(),t=g.getCurrentTime();p.isPlaying?1!==e&&3!==e&&g.playVideo():1!==e&&3!==e||g.pauseVideo(),Math.abs(t-p.timestamp)>2&&g.seekTo(p.timestamp,!0)}catch(e){console.error("Error syncing YouTube player:",e)}},[p.isPlaying,p.timestamp,p.videoId,g]),o.useEffect(()=>{if(!n.isHost||!g||!p.isPlaying)return;const e=setInterval(()=>{try{if("function"==typeof g.getCurrentTime){const e=g.getCurrentTime();n.sync(!0,e)}}catch(e){console.error("Error in host sync:",e)}},5e3);return()=>clearInterval(e)},[n,g,p.isPlaying]);const P=()=>{if(h)try{n.setVideo(h),b(null),y("")}catch(e){b(d({en:"Invalid URL",vi:"Định dạng URL không hợp lệ"}))}},w={height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,modestbranding:1,rel:0,playsinline:1,origin:"undefined"!=typeof window?window.location.origin:void 0}};return t.jsxs("div",{className:"flex flex-col items-center w-full h-full p-1 @md:p-4 gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-4xl",children:[n.isHost&&t.jsxs("div",{className:"flex gap-2 w-full items-center",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(a,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:h,onChange:e=>y(e.target.value),placeholder:d({en:"Paste YouTube URL or ID...",vi:"Dán URL hoặc ID YouTube..."}),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&P()})]}),t.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors whitespace-nowrap",children:d({en:"Load",vi:"Tải"})})]}),t.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-2 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[p.allowGuestControl?t.jsx(s,{className:"w-4 h-4 text-green-400"}):t.jsx(i,{className:"w-4 h-4 text-yellow-400"}),t.jsxs("span",{children:[d({en:"Guest Control",vi:"Khách có thể điều khiển"}),":"," ",t.jsx("span",{className:p.allowGuestControl?"text-green-400":"text-yellow-400",children:p.allowGuestControl?d({en:"ON",vi:"Bật"}):d({en:"OFF",vi:"Tắt"})})]})]}),n.isHost&&t.jsx("button",{onClick:()=>{n.toggleGuestControl(!p.allowGuestControl)},className:`\n                        relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900\n                        ${p.allowGuestControl?"bg-green-600":"bg-gray-600"}\n                    `,children:t.jsx("span",{className:`\n                            inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out\n                            ${p.allowGuestControl?"translate-x-6":"translate-x-1"}\n                        `})})]}),v&&t.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[t.jsx(l,{className:"w-4 h-4"}),t.jsx("span",{children:v})]})]}),t.jsx("div",{className:"w-full max-w-4xl aspect-video bg-black rounded-xl overflow-hidden shadow-2xl relative",children:p.videoId?t.jsx(fe,{videoId:p.videoId,opts:w,onReady:e=>{m(e.target)},onStateChange:e=>{const t=e.data,r=e.target.getCurrentTime();if(2===t&&"hidden"===document.visibilityState&&n.getState().isPlaying)return void e.target.playVideo();(n.isHost||p.allowGuestControl)&&(1===t?p.isPlaying||n.sync(!0,r):2===t&&p.isPlaying&&n.sync(!1,r))},className:"w-full h-full",iframeClassName:"w-full h-full"},p.videoId):t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500 gap-2",children:[t.jsx(u,{className:"w-12 h-12 opacity-50"}),t.jsx("p",{children:d({en:"Waiting for host to select a video...",vi:"Chờ chủ phòng chọn video..."})}),t.jsxs("p",{className:"text-xs text-gray-600",children:["ID: ",n.roomId]})]})}),t.jsxs("div",{className:"flex justify-between items-center w-full max-w-4xl text-sm text-gray-500",children:[t.jsx("div",{className:"flex items-center gap-2",children:p.isPlaying?t.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[t.jsx(u,{className:"w-3 h-3"})," ",d({en:"Playing",vi:"Đang phát"})]}):t.jsxs("span",{className:"flex items-center gap-1 text-yellow-500",children:[t.jsx(c,{className:"w-3 h-3"})," ",d({en:"Paused",vi:"Đang tạm dừng"})]})}),t.jsx("div",{children:p.videoId&&t.jsxs(t.Fragment,{children:["Video ID:"," ",t.jsx("a",{href:`https://www.youtube.com/watch?v=${p.videoId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-600",children:p.videoId})]})})]})]})}export{he as default};
